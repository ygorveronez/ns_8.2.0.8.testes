

<div class="subheader">
    <h1 class="subheader-title">
        Canhotos
    </h1>
</div>

<div class="page-content">
    <div id="knockoutPesquisaCanhotos">
        <div class="row mb-4">
            <div class="col-12 col-md-2" data-bind="visible: Numero.visible">
                <div class="form-group">
                    <input type="text" class="form-control" data-bind="class: Numero.requiredClass, value: Numero.val, valueUpdate: 'afterkeydown', attr: { maxlength: Numero.maxlength, id : Numero.id, placeholder: Numero.placeholder }" />
                </div>
            </div>
            <div class="col-12 col-md-2" data-bind="visible: Serie.visible">
                <div class="form-group">
                    <input type="text" class="form-control" data-bind="class: Serie.requiredClass, value: Serie.val, valueUpdate: 'afterkeydown', attr: { maxlength: Serie.maxlength, id : Serie.id, placeholder: Serie.placeholder }" />
                </div>
            </div>
            <div class="col-12 col-md-2" data-bind="visible: DataInicio.visible">
                <div class="form-group">
                    <input type="text" class="form-control" data-bind="class: DataInicio.requiredClass, value: DataInicio.val, valueUpdate: 'afterkeydown', attr: { maxlength: DataInicio.maxlength, id : DataInicio.id, placeholder: DataInicio.placeholder }" />
                </div>
            </div>
            <div class="col-12 col-md-2" data-bind="visible: DataFim.visible">
                <div class="form-group">
                    <input type="text" class="form-control" data-bind="class: DataFim.requiredClass, value: DataFim.val, valueUpdate: 'afterkeydown', attr: { maxlength: DataFim.maxlength, id : DataFim.id, placeholder: DataFim.placeholder }" />
                </div>
            </div>
            <div class="col-12 col-md-2" data-bind="visible: SituacaoCanhoto.visible">
                <div class="form-group">
                    <select class="form-control" data-bind="class: SituacaoCanhoto.requiredClass, options: SituacaoCanhoto.options, optionsText: 'text', optionsValue: 'value', value: SituacaoCanhoto.val, attr: { maxlength: SituacaoCanhoto.maxlength, id : SituacaoCanhoto.id}" multiple="multiple" data-actions-box="false" data-selected-text-format="count > 2" title={Localize::Canhotos.Canhoto.TodasAsSituacoes}></select>
                </div>
            </div>
            <div class="col-12 col-md-2" data-bind="visible: SituacaoDigitalizacaoCanhoto.visible">
                <div class="form-group">
                    <select class="form-control" data-bind="class: SituacaoDigitalizacaoCanhoto.requiredClass, options: SituacaoDigitalizacaoCanhoto.options, optionsText: 'text', optionsValue: 'value', value: SituacaoDigitalizacaoCanhoto.val, attr: { maxlength: SituacaoDigitalizacaoCanhoto.maxlength, id : SituacaoDigitalizacaoCanhoto.id}"></select>
                </div>
            </div>
        </div>
        <div class="row mb-4">
            <div class="col-12 col-md-4" data-bind="visible: Destinatario.visible">
                <div class="form-group">
                    <div class="input-group">
                        <input type="text" class="form-control" data-bind="css: Destinatario.requiredClass, value: Destinatario.val, valueUpdate: 'afterkeydown', attr: { maxlength: Destinatario.maxlength, id : Destinatario.id, placeholder: Destinatario.placeholder }" />
                        <div class="input-group-append">
                            <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: Destinatario.idBtnSearch}" type="button" aria-label="Buscar">
                                <i class="fal fa-search"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-md-4" data-bind="visible: CTe.visible">
                <div class="form-group">
                    <div class="input-group">
                        <input type="text" class="form-control" data-bind="css: CTe.requiredClass, value: CTe.val, valueUpdate: 'afterkeydown', attr: { maxlength: CTe.maxlength, id : CTe.id, placeholder: CTe.placeholder }" />
                        <div class="input-group-append">
                            <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: CTe.idBtnSearch}" type="button" aria-label="Buscar">
                                <i class="fal fa-search"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mb-4" data-bind="id: BuscaAvancada.idFade, fadeVisible: BuscaAvancada.visibleFade">

        </div>
        <div class="d-flex justify-content-end mb-4">
            <button type="button" class="btn btn-default ms-2" data-bind="click: BuscaAvancada.eventClick, attr: { id: BuscaAvancada.id}, visible: BuscaAvancada.visible">
                <i data-bind="css: BuscaAvancada.icon"></i><span data-bind="text: BuscaAvancada.text"></span>
            </button>
            <button type="button" class="btn btn-primary ms-2" data-bind="click: Pesquisar.eventClick, attr: { id: Pesquisar.id}">
                <i class="fal fa-search"></i><span data-bind="text: Pesquisar.text"></span>
            </button>
        </div>
        

        <div>
            <div class="panel">
                <div class="panel-container">
                    <div class="panel-hdr">
                        <h5><i class="fal fa-edit"></i>{Localize::Canhotos.Canhoto.Canhotos}</h5>
                    </div>
                    <div class="panel-content">
                        <ul class="nav nav-tabs">
                            <li class="nav-item" id="canhoto-tabs">
                                <a href="#tabCanhotos" class="nav-link active" data-bs-toggle="tab">
                                    <span class="hidden-mobile hidden-tablet">{Localize::Canhotos.Canhoto.Canhotos}</span>
                                </a>
                            </li>
                            <li class="nav-item " id="liVisualizacao">
                                <a href="#tabVisualizacao" class="nav-link" data-bs-toggle="tab">
                                    <span class="hidden-mobile hidden-tablet">{Localize::Canhotos.Canhoto.Visualizacao}</span>
                                </a>
                            </li>
                        </ul>
                        <div id="canhoto-content" class="tab-content border border-top-0 p-2">
                            <div class="tab-pane fade active show" id="tabCanhotos">
                                <div class="d-flex justify-content-end">
                                    <button type="button" class="btn btn-default mb-2 ms-2" data-bind="click: SelecionarTodos.eventClick, visible: SelecionarTodos.visible, attr: { value: SelecionarTodos.text, id : SelecionarTodos.id}">
                                        <span data-bind="text: SelecionarTodos.text"></span>
                                    </button>
                                </div>
                                <div class="widget-body no-padding-bottom table-sem-paginacao" id="container-grid-canhoto">
                                    <table width="100%" class="table table-bordered table-hover table-condensed" id="grid-canhoto" cellspacing="0"></table>
                                </div>
                            </div>
                            <div class="tab-pane fade DivConferencia" id="tabVisualizacao">
                                <ul class="nav nav-tabs">
                                    <li class="nav-item" id="liImagensAgrupadas">
                                        <a href="#tabImagensAgrupadas" class="nav-link active" data-bs-toggle="tab">
                                            <span>{Localize::Canhotos.Canhoto.ImagensAgrupadas}</span>
                                        </a>
                                    </li>
                                    <li class="nav-item" id="liImagensIndividuais">
                                        <a href="#tabImagensIndividuais" class="nav-link" data-bs-toggle="tab">
                                            <span>{Localize::Canhotos.Canhoto.ImagensIndividuais}</span>
                                        </a>
                                    </li>
                                </ul>
                                <div id="canhoto-inteiro-content" class="tab-content border border-top-0 p-2">
                                    <div class="tab-pane fade active show DivConferencia" id="tabImagensAgrupadas">
                                        <div class="row container-imagens padding-top-10">
                                            <!-- ko foreach: { data: ImagensConferencia.val, as: 'imagem' } -->
                                            <div class="col-6 col-md-6">
                                                <div data-bind="css: { 'container-img': true, 'possui-imagem': imagem.Miniatura != null, 'sem-imagem': imagem.Miniatura == null && !imagem.ArquivoPDF, 'thumb-pdf': imagem.ArquivoPDF }">
                                                    <strong>Canhoto: </strong><span data-bind="text: imagem.Numero"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span data-bind="text: imagem.DataEntregaNotaCliente"></span>
                                                    <button type="button" class="btn btn-default btn-sm" style="float:right; width:20px; height:15px; margin-left:5px;" data-bind="click: function(e){ $parent.DownloadCanhoto.eventClick(e) }"><i class="fal fa-download" style="position:absolute; margin-left:-5px; margin-top:-6px;"></i></button>
                                                    <button type="button" class="btn btn-default btn-sm" style="float:right; width:20px; height:15px; margin-left:5px;" data-bind="click: function(e){ $parent.Detalhes.eventClick(e) }"><i class="fal fa-info-circle" style="position:absolute; margin-left:-10px; margin-top:-6px;"></i></button>
                                                    <!-- ko if: imagem.Miniatura == null && imagem.ArquivoPDF == true -->
                                                    @*<div class="img-canhoto" data-bind="click: function(e){ if(imagem.ArquivoPDF) $parent.VisualizarPDF.eventClick(e) }"></div>*@
                                                    <div>
                                                        <embed class="pdf-viewer-canhoto-agrupado" data-bind="attr: { src: 'Canhotos/RenderizarPDF?Canhoto=' + imagem.Codigo }" style="width: 100%; height: 170px;">
                                                    </div>

                                                    <!-- /ko -->
                                                    <!-- ko if: imagem.Miniatura != null -->
                                                    <div class="img-canhoto container-drag">
                                                        <img class="draggable-img" data-bind="attr: { src:  'data:image/png;base64,' + imagem.Miniatura }" />
                                                    </div>
                                                    <!-- /ko -->
                                                    <!-- ko if: $parent.TipoServicoMultiCTe.val() != true -->
                                                    <div style="text-align:center; min-height:20px;" data-bind="visible: imagem.VisibilidadeRodape">
                                                        <input type="button" data-bind="click: function(e){ $parent.RejeitarImagem.eventClick(e) }, visible: ((!imagem.Rejeitado && !imagem.ExigeAprovacaoDigitalizacaoCanhoto) || (imagem.PendenteAprovacao && imagem.ExigeAprovacaoDigitalizacaoCanhoto)), attr: { value: 'Rejeitar' }" class="btnPesquisarFiltroPesquisa btn btn-labeled btn-danger btn-xs" style="display:inline" />
                                                        <input type="button" data-bind="click: function(e){ $parent.ValidarImagem.eventClick(e) }, visible: imagem.PendenteAprovacao, attr: { value: 'Aprovar' }" class="btnPesquisarFiltroPesquisa btn btn-labeled btn-success btn-xs" style="display:inline" />
                                                        <input type="button" data-bind="click: function(e){ $parent.ReverterImagem.eventClick(e) }, visible: !imagem.PendenteAprovacao && $parent.PermissaoReverter.val && imagem.PermitirReverter, attr: { value: 'Reverter' }" class="btnPesquisarFiltroPesquisa btn btn-labeled btn-warning btn-xs" style="display:inline" />
                                                    </div>
                                                    <!-- /ko -->
                                                </div>
                                            </div>
                                            <!-- /ko -->
                                            <!-- ko if: ImagensConferencia.val().length == 0 -->
                                            <div class="col-12 col-md-12 d-flex justify-content-center mt-3">
                                                <div>
                                                    {Localize::Gerais.Geral.NenhumRegistroEncontrado}
                                                </div>
                                            </div>
                                            <!-- /ko -->
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="tabImagensIndividuais">
                                        <div class="row">
                                            <div class="col-12 col-md-8">
                                                <div class="card">
                                                    <div class="card-body">
                                                        <div class="widget-body" style="min-height: 450px; overflow-y: visible; overflow-x: hidden;">
                                                            <div class="row">
                                                                <!-- ko if: typeof CanhotoInteiroAtual() == 'string' -->
                                                                <div class="col-12 col-md-12 d-flex justify-content-center mt-3">
                                                                    <div>
                                                                        Nenhum registro selecionado
                                                                    </div>
                                                                </div>
                                                                <!-- /ko -->
                                                                <!-- ko if: typeof CanhotoInteiroAtual() == 'object' -->
                                                                <div class="container-imagens" data-bind="with: CanhotoInteiroAtual(), as: 'imagemInteira' ">
                                                                    <div data-bind="css: { 'container-img': false, 'possui-imagem': imagemInteira.Miniatura.val() != null, 'sem-imagem': imagemInteira.Miniatura.val() == null && !imagemInteira.ArquivoPDF.val(), 'thumb-pdf': imagemInteira.ArquivoPDF.val() }">
                                                                        <div class="row">
                                                                            <div class="col-12 col-md-12 col-lg-4" data-bind="visible: imagemInteira.DataEntregaNotaCliente.visible">
                                                                                <div class="form-group">
                                                                                    <label class="form-label" data-bind="text: imagemInteira.DataEntregaNotaCliente.text, attr: { for: imagemInteira.DataEntregaNotaCliente.id }"></label>
                                                                                    <input type="text" class="form-control" data-bind="class: imagemInteira.DataEntregaNotaCliente.requiredClass, value: imagemInteira.DataEntregaNotaCliente.val, valueUpdate: 'afterkeydown', attr: { maxlength: imagemInteira.DataEntregaNotaCliente.maxlength, id : imagemInteira.DataEntregaNotaCliente.id}" />
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-12 col-md-12 col-lg-4">
                                                                                <div data-bind="class: imagemInteira.Acoes.cssClass" style="text-align: center;">
                                                                                    <label class="label"></label>
                                                                                    <input type="button" data-bind="click: imagemInteira.RejeitarImagem.eventClick, visible: ((!imagemInteira.Rejeitado.val() && !imagemInteira.ExigeAprovacaoDigitalizacaoCanhoto.val()) || (imagemInteira.PendenteAprovacao.val() && imagemInteira.ExigeAprovacaoDigitalizacaoCanhoto.val())), attr: { value: imagemInteira.RejeitarImagem.text }" class="btnPesquisarFiltroPesquisa btn btn-danger" style="display:inline-block" />
                                                                                    <input type="button" data-bind="click: imagemInteira.AprovarImagem.eventClick, visible: imagemInteira.PendenteAprovacao.val(), attr: { value: imagemInteira.AprovarImagem.text }" class="btnPesquisarFiltroPesquisa btn btn-success" style="display: inline-block" />
                                                                                    <input type="button" data-bind="click: imagemInteira.ReverterImagem.eventClick, visible: !imagemInteira.PendenteAprovacao.val() && $parent.PermissaoReverter.val() && imagemInteira.PermitirReverter.val(), attr: { value: imagemInteira.ReverterImagem.text }" class="btnPesquisarFiltroPesquisa btn btn-warning" style="display: inline-block" />
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-12 col-md-12 col-lg-4" data-bind="visible: imagemInteira.Situacao.visible">
                                                                                <div class="form-group">
                                                                                    <label class="form-label" data-bind="text: imagemInteira.Situacao.text, attr: { for: imagemInteira.Situacao.id }"></label>
                                                                                    <select class="form-control" data-bind="class: imagemInteira.Situacao.requiredClass, options: imagemInteira.Situacao.options, optionsText: 'text', optionsValue: 'value', value: imagemInteira.Situacao.val, attr: { maxlength: imagemInteira.Situacao.maxlength, id : imagemInteira.Situacao.id}"></select>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-12 col-md-12 col-lg-12" data-bind="visible: imagemInteira.Observacao.visible">
                                                                                <div class="form-group">
                                                                                    <label class="form-label" data-bind="text: imagemInteira.Observacao.text, attr: { for: imagemInteira.Observacao.id }"></label>
                                                                                    <textarea class="form-control" rows="4" data-bind="value: imagemInteira.Observacao.val, valueUpdate: 'afterkeydown', attr: { maxlength: imagemInteira.Observacao.maxlength, id : imagemInteira.Observacao.id }"></textarea>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="imagem-inteira" style="height: auto;">
                                                                            <!-- ko if: imagemInteira.Miniatura.val() == null && !imagemInteira.ArquivoPDF.val() -->
                                                                            <div class="img-canhoto"></div>
                                                                            <!-- /ko -->
                                                                            <!-- ko if: imagemInteira.Miniatura.val() == null && imagemInteira.ArquivoPDF.val() -->
                                                                            <div>
                                                                                <embed id="pdf-viewer-canhoto-inteiro" src="" style="width: 100%; height: 90vh">
                                                                            </div>
                                                                            <!-- /ko -->
                                                                            <!-- ko if: imagemInteira.Miniatura.val() != null -->
                                                                            <div class="img-canhoto" style="height: auto;">
                                                                                <img class="draggable-img" data-bind="attr: { src:  'data:image/png;base64,' + imagemInteira.Miniatura.val() }" />
                                                                                <button type="button" class="btn btn-default btn-sm" data-bind="click: imagemInteira.DownloadCanhotoImagemInteira.eventClick"><i class="fa fa-download" style="position:absolute; margin-left:-5px; margin-top:-6px;"></i></button>
                                                                            </div>
                                                                            <!-- /ko -->
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!-- /ko -->
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-md-4">
                                                <div class="card">
                                                    <div class="card-body">
                                                        <div class="insideNoPaddignTable" id="container-grid-canhotos-imagem-inteira" style="padding:20px 10px;">
                                                            <table width="100%" class="table table-bordered table-hover" id="grid-canhotos-imagem-inteira" cellspacing="0"></table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="dt-toolbar-footer d-flex flex-wrap justify-content-between mt-2">
                            <div class=" align-self-center">
                                <div class="dataTables_info" id="paginacaoResumo" role="status" aria-live="polite"></div>
                            </div>
                            <div class="align-self-center">
                                <div class="dataTables_paginate paging_simple_numbers" id="paginacaoCanhotos">
                                </div>
                            </div>
                        </div>
                        <div class="d-flex justify-content-end mt-2" data-bind="visible: ConfirmarRecebimentoTodas.visible() || AlterarStatusTodos.visible() || JustificarTodas.visible() || ConfirmarCanhotos.visible() || LiberarPagamentoCanhotos.visible() || RejeitarPagamentoCanhotos.visible() || EnviarImagemCanhotos.visible()">
                            <button type="button" class="btn btn-warning ms-2" data-bind="click: EnviarImagemCanhotos.eventClick, visible: EnviarImagemCanhotos.visible, attr: { value: EnviarImagemCanhotos.text, id : EnviarImagemCanhotos.id}">
                                <span data-bind="text: EnviarImagemCanhotos.text"></span>
                            </button>
                            <button type="button" class="btn btn-success ms-2" data-bind="click: ConfirmarRecebimentoTodas.eventClick, visible: ConfirmarRecebimentoTodas.visible, attr: { value: ConfirmarRecebimentoTodas.text, id : ConfirmarRecebimentoTodas.id}">
                                <span data-bind="text: ConfirmarRecebimentoTodas.text"></span>
                            </button>
                            <button type="button" class="btn btn-success ms-2" data-bind="click: AlterarStatusTodos.eventClick, visible: AlterarStatusTodos.visible, attr: { value: AlterarStatusTodos.text, id : AlterarStatusTodos.id}">
                                <span data-bind="text: AlterarStatusTodos.text"></span>
                            </button>
                            <button type="button" class="btn btn-warning ms-2" data-bind="click: JustificarTodas.eventClick, visible: JustificarTodas.visible, attr: { value: JustificarTodas.text, id : JustificarTodas.id}">
                                <span data-bind="text: JustificarTodas.text"></span>
                            </button>
                            <button type="button" class="btn  btn-warning ms-2" data-bind="click: ConfirmarCanhotos.eventClick, visible: ConfirmarCanhotos.visible, attr: { value: ConfirmarCanhotos.text, id : ConfirmarCanhotos.id}">
                                <span data-bind="text: ConfirmarCanhotos.text"></span>
                            </button>
                            <button type="button" class="btn btn-success ms-2" data-bind="click: LiberarPagamentoCanhotos.eventClick, visible: LiberarPagamentoCanhotos.visible, attr: { value: LiberarPagamentoCanhotos.text, id : LiberarPagamentoCanhotos.id}">
                                <span data-bind="text: LiberarPagamentoCanhotos.text"></span>
                            </button>
                            <button type="button" class="btn btn-danger ms-2" data-bind="click: RejeitarPagamentoCanhotos.eventClick, visible: RejeitarPagamentoCanhotos.visible, attr: { value: RejeitarPagamentoCanhotos.text, id : RejeitarPagamentoCanhotos.id}">
                                <span data-bind="text: RejeitarPagamentoCanhotos.text"></span>
                            </button>
                            <button type="button" class="btn btn-warning ms-2" data-bind="click: InformarDataEntregaCanhotos.eventClick, visible: InformarDataEntregaCanhotos.visible, attr: { value: InformarDataEntregaCanhotos.text, id : InformarDataEntregaCanhotos.id}">
                                <span data-bind="text: InformarDataEntregaCanhotos.text"></span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="divModalReceberCanhotoFisicamente" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">{Localize::Canhotos.Canhoto.CanhotoRecebidoFisicamente}</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="col-12 col-md-12" data-bind="visible: ObservacaoRecebimentoFisico.visible">
                    <div class="form-group">
                        <label class="form-label" data-bind="text: ObservacaoRecebimentoFisico.text, attr: { for: ObservacaoRecebimentoFisico.id }"></label>
                        <textarea class="form-control" rows="5" data-bind="value: ObservacaoRecebimentoFisico.val, valueUpdate: 'afterkeydown', attr: { maxlength: ObservacaoRecebimentoFisico.maxlength, id : ObservacaoRecebimentoFisico.id }"></textarea>
                    </div>
                </div>
                <div class="col-12 col-md-3" data-bind="visible: DataRecebimento.visible">
                    <div class="form-group">
                        <label class="form-label" data-bind="text: DataRecebimento.text"></label>
                        <input type="text" class="form-control" data-bind="class: DataRecebimento.requiredClass, value: DataRecebimento.val, valueUpdate: 'afterkeydown', attr: { maxlength: DataRecebimento.maxlength, id : DataRecebimento.id}" />
                    </div>
                </div>
                <div class="col-12 col-md-3" data-bind="visible: NumeroProtocolo.visible">
                    <div class="form-group">
                        <label class="form-label" data-bind="text: NumeroProtocolo.text"></label>
                        <input type="text" class="form-control" data-bind="class: NumeroProtocolo.requiredClass, value: NumeroProtocolo.val, valueUpdate: 'afterkeydown', attr: { maxlength: NumeroProtocolo.maxlength, id : NumeroProtocolo.id}" />
                    </div>
                </div>
                <div class="d-flex justify-content-end mt-3">
                    <button class="btn btn-success" type="button" data-bind="click: ReceberFisicamente.eventClick, attr: { id : ReceberFisicamente.id}">
                        <span data-bind="text: ReceberFisicamente.text"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="divModalCadastroAnexo" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">{Localize::Gerais.Geral.AdicionarAnexo}</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="knockoutCadastroAnexo">
                <div class="row">
                    <div class="form-group col-12 col-md-6">
                        <p class="form-label" data-bind="text: Arquivo.text"></p>
                        <div class="custom-file" data-bind="visible: Arquivo.visible">
                            <input type="file" class="custom-file-input" data-bind="value: Arquivo.val, attr: { id: Arquivo.id }" readonly>
                            <label class="custom-file-label" data-bind="attr: {for: Arquivo.id}, text: Arquivo.val() !=``? Arquivo.val(): `{Localize::Gerais.Geral.Selecionar}`"></label>
                        </div>
                    </div>

                    <div class="col-12 col-md-6" data-bind="visible: Descricao.visible">
                        <div class="form-group">
                            <label class="form-label" data-bind="text: Descricao.text"></label>
                            <input type="text" class="form-control" data-bind="class: Descricao.requiredClass, value: Descricao.val, valueUpdate: 'afterkeydown', attr: { maxlength: Descricao.maxlength, id : Descricao.id}" />
                        </div>
                    </div>
                </div>
                <footer>
                    <div class="d-flex justify-content-end mt-3">
                        <button type="button" class="btn  btn-success ms-2 mb-2 mx-2" data-bind="click: Adicionar.eventClick, visible: Adicionar.visible, attr: { value: Adicionar.text, id : Adicionar.id}">
                            <span data-bind="text: Adicionar.text"></span>
                        </button>
                    </div>
                </footer>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="divModalAnexo" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">{Localize::Gerais.Geral.Anexos}</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="smart-form" id="knockoutAnexo">
                    <div class="padding-side">
                        <table width="100%" class="table table-bordered table-hover margin-top-0" data-bind="attr: { id: Anexos.idGrid }" cellspacing="0"></table>
                    </div>
                    <div class="d-flex justify-content-end mt-3">
                        <button class="btn btn-success" type="button" data-bind="click: Adicionar.eventClick, attr: { id : Adicionar.id}">
                            <span data-bind="text: Adicionar.text"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="divModalObservacaoAlteracaoCanhoto" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">{Localize::Canhotos.Canhoto.ObservacaoDoCanhoto}</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="col-12 col-md-12" data-bind="visible: ObservacaoOperador.visible">
                    <div class="form-group">
                        <label class="form-label" data-bind="text: ObservacaoOperador.text, attr: { for: ObservacaoOperador.id }"></label>
                        <textarea class="form-control" rows="5" data-bind="value: ObservacaoOperador.val, valueUpdate: 'afterkeydown', attr: { maxlength: ObservacaoOperador.maxlength, id : ObservacaoOperador.id }"></textarea>
                    </div>
                </div>

                <div class="d-flex justify-content-end mt-3">
                    <button class="btn btn-default me-2" type="button" data-bind="click: Fechar.eventClick, attr: { id : Fechar.id}">
                        <span data-bind="text: Fechar.text"></span>
                    </button>
                    <button class="btn btn-success" type="button" data-bind="click: ConfirmarEntregaMotorista.eventClick, attr: { id : ConfirmarEntregaMotorista.id}">
                        <span data-bind="text: ConfirmarEntregaMotorista.text"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="divModalMotivoInconsistenciaDigitacao" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">{Localize::Canhotos.Canhoto.AdicionarMotivoDaInconsistencia}</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="knockoutMotivoInconsistenciaDigitacao">
                <div class="col-12 col-md-12" data-bind="visible: Motivo.visible">
                    <div class="form-group">
                        <label class="form-label" data-bind="text: Motivo.text, attr: { for: Motivo.id }"></label>
                        <div class="input-group">
                            <input type="text" class="form-control" data-bind="css: Motivo.requiredClass, value: Motivo.val, valueUpdate: 'afterkeydown', attr: { maxlength: Motivo.maxlength, id : Motivo.id}" />
                            <div class="input-group-append">
                                <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: Motivo.idBtnSearch}" type="button" aria-label="Buscar">
                                    <i class="fal fa-search"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-12" data-bind="visible: Observacoes.visible">
                    <div class="form-group">
                        <label class="form-label" data-bind="text: Observacoes.text, attr: { for: Observacoes.id }"></label>
                        <textarea class="form-control" rows="4" data-bind="value: Observacoes.val, valueUpdate: 'afterkeydown', attr: { maxlength: Observacoes.maxlength, id : Observacoes.id }"></textarea>
                    </div>
                </div>
                <div class="d-flex justify-content-end mt-3">
                    <button class="btn btn-success me-2" type="button" data-bind="click: Adicionar.eventClick, attr: { id : Adicionar.id}">
                        <span data-bind="text: Adicionar.text"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="ModalDivDetalhesCanhoto" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">{Localize::Canhotos.Canhoto.DescricaoCanhoto}</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="divDetalhesCanhoto">
            </div>
        </div>
    </div>
</div>

<div id="divModalAuditarRegistro" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content" id="KnoutAuditarRegistro">
            <div class="modal-header">
                <h4 class="modal-title">{Localize::Canhotos.Canhoto.AuditarRegistroCanhoto}</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-12 col-md-4" data-bind="visible: Numero.visible">
                        <label><b data-bind="text: Numero.text"></b> <span data-bind="text: Numero.val"></span></label>
                    </div>
                    <div class="col-12 col-md-8" data-bind="visible: Chave.visible">
                        <label><b data-bind="text: Chave.text"></b> <span data-bind="text: Chave.val"></span></label>
                    </div>
                    <div class="col-12 col-md-4" data-bind="visible: DataDigitalizacao.visible">
                        <label><b data-bind="text: DataDigitalizacao.text"></b> <span data-bind="text: DataDigitalizacao.val"></span></label>
                    </div>
                    <div class="col-12 col-md-4" data-bind="visible: DataAprovacao.visible">
                        <label><b data-bind="text: DataAprovacao.text"></b> <span data-bind="text: DataAprovacao.val"></span></label>
                    </div>
                    <div class="col-12 col-md-4" data-bind="visible: DataRecebimentoFisico.visible">
                        <label><b data-bind="text: DataRecebimentoFisico.text"></b> <span data-bind="text: DataRecebimentoFisico.val"></span></label>
                    </div>
                </div>
                <div class="row">
                    <div data-bind="visible : MotivoRejeicao.visible" class="MotivoRejeicao">
                        <div class="col-12 col-md-6" data-bind="visible: MotivoRejeicao.visible">
                            <div class="form-group">
                                <label class="form-label" data-bind="text: MotivoRejeicao.text, attr: { for: MotivoRejeicao.id }"></label>
                                <div class="input-group">
                                    <input type="text" class="form-control" data-bind="css: MotivoRejeicao.requiredClass, value: MotivoRejeicao.val, valueUpdate: 'afterkeydown', attr: { maxlength: MotivoRejeicao.maxlength, id : MotivoRejeicao.id}" />
                                    <div class="input-group-append">
                                        <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: MotivoRejeicao.idBtnSearch}" type="button" aria-label="Buscar">
                                            <i class="fal fa-search"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-12" data-bind="visible: Descricao.visible">
                        <div class="form-group">
                            <label class="form-label" data-bind="text: Descricao.text, attr: { for: Descricao.id }"></label>
                            <textarea class="form-control" rows="4" data-bind="value: Descricao.val, valueUpdate: 'afterkeydown', attr: { maxlength: Descricao.maxlength, id : Descricao.id }"></textarea>
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-end mt-3">
                    <button class="btn btn-danger me-2" type="button" data-bind="click: Rejeitar.eventClick, attr: { id : Rejeitar.id}">
                        <span data-bind="text: Rejeitar.text"></span>
                    </button>
                    <button class="btn btn-success" type="button" data-bind="click: Aprovar.eventClick, attr: { id : Aprovar.id}">
                        <span data-bind="text: Aprovar.text"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="knoutEnviarArquivo" style="display:none">
    <label for="file" class="input input-file">
        <input type="file" accept=".jpg,.jpeg,.pdf" data-bind="attr: { id: Arquivo.id }" name="file" />
    </label>
</div>

<div id="divModalCanhotoImagemEnviar" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">{Localize::Canhotos.Canhoto.EnvioDeImagem}</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="KnoutCanhotoImagemEnviar">
                <div class="col-12 col-md-12" data-bind="visible: DataEnvioCanhoto.visible">
                    <div class="form-group">
                        <label class="form-label" data-bind="text: DataEnvioCanhoto.text"></label>
                        <input type="text" class="form-control" data-bind="class: DataEnvioCanhoto.requiredClass, value: DataEnvioCanhoto.val, valueUpdate: 'afterkeydown', attr: { maxlength: DataEnvioCanhoto.maxlength, id : DataEnvioCanhoto.id}" />
                    </div>
                </div>
                <div class="col-12 col-md-12" data-bind="visible: DataEntregaNotaCliente.visible">
                    <div class="form-group">
                        <label class="form-label" data-bind="text: DataEntregaNotaCliente.text"></label>
                        <input type="text" class="form-control" data-bind="class: DataEntregaNotaCliente.requiredClass, value: DataEntregaNotaCliente.val, valueUpdate: 'afterkeydown', attr: { maxlength: DataEntregaNotaCliente.maxlength, id : DataEntregaNotaCliente.id}" />
                    </div>
                </div>
                <div class="d-flex justify-content-end mt-3">
                    <button class="btn btn-success" type="button" data-bind="click: Enviar.eventClick, attr: { id : Enviar.id}">
                        <span data-bind="text: Enviar.text"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="divModalJustificarCanhoto" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">{Localize::Canhotos.Canhoto.JustificarCanhoto}</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="knoutJustificarCanhoto">
                <div class="col-12 col-md-12" data-bind="visible: Observacao.visible">
                    <div class="form-group">
                        <label class="form-label" data-bind="text: Observacao.text, attr: { for: Observacao.id }"></label>
                        <textarea class="form-control" rows="4" data-bind="value: Observacao.val, valueUpdate: 'afterkeydown', attr: { maxlength: Observacao.maxlength, id : Observacao.id }"></textarea>
                    </div>
                </div>

                <footer>
                    <input type="button" data-bind="click: Justificar.eventClick,visible: Justificar.visible, attr: {value: Justificar.text, id : Justificar.id}" class="btn btn-labeled btn-success" />
                </footer>
            </div>
        </div>
    </div>
</div>

<div id="divModalMotivoRejeicaoDigitalizacao" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">{Localize::Canhotos.Canhoto.MotivoDaRejeicao}</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="knoutMotivoRejeicaoDigitalizacao">
                <div class="col-12 col-md-12" data-bind="visible: Motivo.visible">
                    <div class="form-group">
                        <label class="form-label" data-bind="text: Motivo.text, attr: { for: Motivo.id }"></label>
                        <div class="input-group">
                            <input type="text" class="form-control" data-bind="css: Motivo.requiredClass, value: Motivo.val, valueUpdate: 'afterkeydown', attr: { maxlength: Motivo.maxlength, id : Motivo.id}" />
                            <div class="input-group-append">
                                <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: Motivo.idBtnSearch}" type="button" aria-label="Buscar">
                                    <i class="fal fa-search"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-12" data-bind="visible: Observacoes.visible">
                    <div class="form-group">
                        <label class="form-label" data-bind="text: Observacoes.text, attr: { for: Observacoes.id }"></label>
                        <textarea class="form-control" rows="5" data-bind="value: Observacoes.val, valueUpdate: 'afterkeydown', attr: { maxlength: Observacoes.maxlength, id : Observacoes.id }"></textarea>
                    </div>
                </div>
                <div class="col-12 col-md-12" data-bind="visible: MotivoRejeicaoDigitalizacao.visible">
                    <div class="form-group">
                        <label class="form-label" data-bind="text: MotivoRejeicaoDigitalizacao.text, attr: { for: MotivoRejeicaoDigitalizacao.id }"></label>
                        <textarea class="form-control" rows="5" data-bind="value: MotivoRejeicaoDigitalizacao.val, valueUpdate: 'afterkeydown', attr: { maxlength: MotivoRejeicaoDigitalizacao.maxlength, id : MotivoRejeicaoDigitalizacao.id }"></textarea>
                    </div>
                </div>


                <div class="d-flex justify-content-end mt-3">
                    <button class="btn btn-success me-2" type="button" data-bind="click: JustificarRejeicaoDigitalizacao.eventClick, attr: { id : JustificarRejeicaoDigitalizacao.id}">
                        <span data-bind="text: JustificarRejeicaoDigitalizacao.text"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="divModalDataEntregaCanhoto" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">{Localize::Canhotos.Canhoto.InformarDataDeEntrega}</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="knoutDataEntregaCanhoto">
                <div class="col-12 col-md-12" data-bind="visible: DataEntregaNotaCliente.visible">
                    <div class="form-group">
                        <label class="form-label" data-bind="text: DataEntregaNotaCliente.text"></label>
                        <input type="text" class="form-control" data-bind="class: DataEntregaNotaCliente.requiredClass, value: DataEntregaNotaCliente.val, valueUpdate: 'afterkeydown', attr: { maxlength: DataEntregaNotaCliente.maxlength, id : DataEntregaNotaCliente.id}" />
                    </div>
                </div>

                <div class="d-flex justify-content-end mt-3">
                    <button class="btn btn-success" type="button" data-bind="click: Enviar.eventClick, attr: { id : Enviar.id}">
                        <span data-bind="text: Enviar.text"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="divModalReverterJustificativa" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">{Localize::Canhotos.Canhoto.ReverterJustificativaCanhoto}</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="KnoutReverterJustificativa">
                <div class="col-12 col-md-12" data-bind="visible: Observacao.visible">
                    <div class="form-group">
                        <label class="form-label" data-bind="text: Observacao.text, attr: { for: Observacao.id }"></label>
                        <textarea class="form-control" rows="4" data-bind="value: Observacao.val, valueUpdate: 'afterkeydown', attr: { maxlength: Observacao.maxlength, id : Observacao.id }"></textarea>
                    </div>
                </div>
                <div class="d-flex justify-content-end mt-3">
                    <button class="btn btn-success" type="button" data-bind="click: Reverter.eventClick, attr: { id : Reverter.id}">
                        <span data-bind="text: Reverter.text"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="divModalVisualizarPDF" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">{Localize::Canhotos.Canhoto.VisualizarPDF}</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <embed id="pdf-viewer" src="" style="width: 100%; height: 800px;" width="500" height="800">
            </div>
        </div>
    </div>
</div>

<style>
    #canhoto-content .table-sem-paginacao .dt-toolbar-footer {
        display: none;
    }

    #knockoutAnexo .dt-toolbar {
        display: none;
    }

    .imagem-inteira {
        border: 1px solid #bdbdbd;
        padding: 1px;
    }

        .imagem-inteira .img-canhoto button {
            position: absolute;
            width: 25px;
            height: 16px;
            right: 22px;
            left: auto;
            top: 108px;
            display: none;
        }

            .imagem-inteira .img-canhoto button:hover {
                display: block;
            }

        .imagem-inteira .img-canhoto img:hover + button {
            display: block;
        }
</style>

<link rel="stylesheet" href="~/css/conferenciacanhotos" />
<script src="~/scripts/canhoto"></script>

<script type="text/javascript">

    pageSetUp();

    var _PermissoesPersonalizadasCanhotos = @Html.Raw(ViewBag.PermissoesPersonalizadasCanhotos);
    var _obrigatorioInformarDataEnvioCanhoto = @Html.Raw(ViewBag.ObrigatorioInformarDataEnvioCanhoto);
    var _prazoParaReverterDigitalizacaoAposAprovacao = @Html.Raw(ViewBag.PrazoParaReverterDigitalizacaoAposAprovacao);
    var _exigirDataEntregaNotaClienteCanhotosReceberFisicamente = @Html.Raw(ViewBag.ExigirDataEntregaNotaClienteCanhotosReceberFisicamente);

    $(document).ready(function () {
        LoadLocalizationResources("Canhotos.Canhoto").then(loadCanhoto);
    });
</script>
