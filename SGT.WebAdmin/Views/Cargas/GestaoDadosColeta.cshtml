

<style>
    .container-gestao-dados-coleta-fotos {
        border: 1px solid #dee2e6;
    }

    .mod-skin-dark:not(.mod-skin-light) .container-gestao-dados-coleta-fotos {
        border-color: rgba(255, 255, 255, 0.15);
    }

    .container-gestao-dados-coleta-fotos .container-imagem-coleta {
        padding-top: 10px;
    }

    .container-gestao-dados-coleta-fotos .container-imagem-coleta .imagem-coleta {
        background-repeat: no-repeat;
        background-position: right center;
        background-size: cover;
        cursor: -webkit-grab;
        height: 387px;
        overflow-x: hidden;
        overflow-y: scroll;
        width: 100%;
    }

    .container-gestao-dados-coleta-fotos .container-imagem-coleta .imagem-coleta:focus {
        cursor: -webkit-grabbing;
    }

    .container-gestao-dados-coleta-fotos .container-imagem-coleta .imagem-coleta::-webkit-scrollbar {
        width: 0px;
        background: transparent;
    }

    .container-gestao-dados-coleta-fotos .container-imagem-coleta .imagem-coleta img {
        width: 100%;
    }

    .container-gestao-dados-coleta-fotos .container-imagem-coleta .sem-imagem {
        height: 116px;
        background-image: url(img/sem_foto_transparente.png);
        background-position: center;
        background-repeat: no-repeat;
        background-size: contain;
        max-width: 175px;
        margin: 0px auto;
        width: 100%;
    }

    .container-gestao-dados-coleta-fotos .container-imagem-coleta .sem-imagem .img-nota-fiscal {
        width: 100%;
        height: 100%;
        max-height: 298px;
        background-repeat: no-repeat;
        background-position: right center;
        background-size: cover;
        margin-bottom: 10px;
    }

    .container-gestao-dados-coleta-fotos .container-imagem-coleta-download {
        height: 15px;
    }

    .container-gestao-dados-coleta-fotos .container-imagem-coleta-download button {
        float: right;
        height: 20px;
        margin-left: 5px;
        width: 20px;
    }

    .container-gestao-dados-coleta-fotos .container-imagem-coleta-download button i {
        margin-left: -5px;
        margin-top: -6px;
        position: absolute;
    }

    .container-gestao-dados-coleta-fotos .container-imagem-coleta-selecionar {
        float: right;
    }

    .container-gestao-dados-coleta-fotos .container-imagem-coleta-selecionar input {
        display: none;
    }

    .container-gestao-dados-coleta-fotos .container-imagem-coleta-selecionar label {
        height: 20px;
        line-height: 20px;
        margin-left: 5px;
        padding: 0 10px;
    }

    #knockoutGestaoDadosColetaDadosTransporte .form-label,
    #knockoutGestaoDadosColetaDadosNfe .form-label {
        padding-right: 0;
    }
</style>

<section>
    <ol class="breadcrumb page-breadcrumb">
        <li class="breadcrumb-item">Cargas</li>
        <li class="breadcrumb-item active">Gestão de Dados de Coleta</li>
    </ol>
    <div class="subheader">
        <h1 class="subheader-title">
            Gestão de Dados de Coleta
        </h1>
    </div>

    <div id="knockoutPesquisaGestaoDadosColeta">
        <div class="panel">
            <div class="panel-container">
                <div class="panel-content">
                    <button class="btn btn-default waves-effect waves-themed" data-bind="click: ExibirFiltros.eventClick, id: ExibirFiltros.id">
                        <i class="fal fa-filter"></i>
                        <span data-bind="text: ExibirFiltros.text"></span>
                    </button>
                    <div class="mt-3" data-bind="id: ExibirFiltros.idFade, fadeVisible: ExibirFiltros.visibleFade">
                        <form>
                            <div class="row">
                                <div class="col-12 col-md-3" data-bind="visible: CodigoCargaEmbarcador.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: CodigoCargaEmbarcador.text"></label>
                                        <input type="text" class="form-control" data-bind="class: CodigoCargaEmbarcador.requiredClass, value: CodigoCargaEmbarcador.val, valueUpdate: 'afterkeydown', attr: { maxlength: CodigoCargaEmbarcador.maxlength, id : CodigoCargaEmbarcador.id}" />
                                    </div>
                                </div>
                                <div class="col-12 col-md-3" data-bind="visible: DataInicial.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: DataInicial.text"></label>
                                        <input type="text" class="form-control" data-bind="class: DataInicial.requiredClass, value: DataInicial.val, valueUpdate: 'afterkeydown', attr: { maxlength: DataInicial.maxlength, id : DataInicial.id}" />
                                    </div>
                                </div>
                                <div class="col-12 col-md-3" data-bind="visible: DataFinal.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: DataFinal.text"></label>
                                        <input type="text" class="form-control" data-bind="class: DataFinal.requiredClass, value: DataFinal.val, valueUpdate: 'afterkeydown', attr: { maxlength: DataFinal.maxlength, id : DataFinal.id}" />
                                    </div>
                                </div>
                                <div class="col-12 col-md-3" data-bind="visible: Situacao.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: Situacao.text, attr: { for: Situacao.id }"></label>
                                        <select class="form-control" data-bind="class: Situacao.requiredClass, options: Situacao.options, optionsText: 'text', optionsValue: 'value', value: Situacao.val, attr: { maxlength: Situacao.maxlength, id : Situacao.id}"></select>
                                    </div>
                                </div>
                                <div class="col-12 col-md-6" data-bind="visible: Transportador.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: Transportador.text, attr: { for: Transportador.id }"></label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" data-bind="css: Transportador.requiredClass, value: Transportador.val, valueUpdate: 'afterkeydown', attr: { maxlength: Transportador.maxlength, id : Transportador.id}" />
                                            <div class="input-group-append">
                                                <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: Transportador.idBtnSearch}" type="button" aria-label="Buscar">
                                                    <i class="fal fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-md-6" data-bind="visible: Filial.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: Filial.text, attr: { for: Filial.id }"></label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" data-bind="css: Filial.requiredClass, value: Filial.val, valueUpdate: 'afterkeydown', attr: { maxlength: Filial.maxlength, id : Filial.id}" />
                                            <div class="input-group-append">
                                                <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: Filial.idBtnSearch}" type="button" aria-label="Buscar">
                                                    <i class="fal fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-md-6" data-bind="visible: Cliente.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: Cliente.text, attr: { for: Cliente.id }"></label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" data-bind="css: Cliente.requiredClass, value: Cliente.val, valueUpdate: 'afterkeydown', attr: { maxlength: Cliente.maxlength, id : Cliente.id}" />
                                            <div class="input-group-append">
                                                <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: Cliente.idBtnSearch}" type="button" aria-label="Buscar">
                                                    <i class="fal fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-md-6" data-bind="visible: OrigemCarga.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: OrigemCarga.text, attr: { for: OrigemCarga.id }"></label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" data-bind="css: OrigemCarga.requiredClass, value: OrigemCarga.val, valueUpdate: 'afterkeydown', attr: { maxlength: OrigemCarga.maxlength, id : OrigemCarga.id}" />
                                            <div class="input-group-append">
                                                <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: OrigemCarga.idBtnSearch}" type="button" aria-label="Buscar">
                                                    <i class="fal fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-md-6" data-bind="visible: DestinoCarga.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: DestinoCarga.text, attr: { for: DestinoCarga.id }"></label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" data-bind="css: DestinoCarga.requiredClass, value: DestinoCarga.val, valueUpdate: 'afterkeydown', attr: { maxlength: DestinoCarga.maxlength, id : DestinoCarga.id}" />
                                            <div class="input-group-append">
                                                <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: DestinoCarga.idBtnSearch}" type="button" aria-label="Buscar">
                                                    <i class="fal fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-md-2" data-bind="visible: RetornoConfirmacao.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: RetornoConfirmacao.text, attr: { for: RetornoConfirmacao.id }"></label>
                                        <select class="form-control" data-bind="class: RetornoConfirmacao.requiredClass, options: RetornoConfirmacao.options, optionsText: 'text', optionsValue: 'value', value: RetornoConfirmacao.val, attr: { maxlength: RetornoConfirmacao.maxlength, id : RetornoConfirmacao.id}"></select>
                                    </div>
                                </div>
                            </div>
                        </form>
                        <div class="d-flex justify-content-end">
                            <button class="btn btn-primary" type="button" data-bind="click: Pesquisar.eventClick, attr: { id: Pesquisar.id}">
                                <i class="fal fa-search"></i><span data-bind="text: Pesquisar.text"></span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="knockoutGestaoDadosColeta">
        <div class="panel">
            <div class="panel-container">
                <div class="panel-content">
                    <div class="panel-hdr">
                        <h3>Dados de Coletas</h3>
                    </div>
                    <div class="row">
                        <div class="d-flex justify-content-end" style="margin: 8px 0px 8px 0px; gap: 8px">
                            <div class="dropdown box-search" style="margin-left:0px" id="dropdown">
                                <button class="btn btn-warning" type="button" data-bs-toggle="dropdown" aria-expanded="false" data-bind="visible: OpcaoUM.visible() || OpcaoDois.visible()">
                                    <i class="fal fa-list"></i><span class="span">Opções</span>
                                </button>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="#" data-bind="click: OpcaoUM.eventClick, text: OpcaoUM.text"></a></li>
                                    <li><a class="dropdown-item" href="#" data-bind="click: OpcaoDois.eventClick, text: OpcaoDois.text"></a></li>
                                </ul>
                            </div>

                            <div class="dropdown box-search" style="margin-left:0px" id="dropdown">
                                <button class="btn btn-success" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="fal fa-plus"></i><span class="span">Adicionar</span>
                                </button>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="#" data-bind="click: AdicionarDadosNfe.eventClick, text: AdicionarDadosNfe.text"></a></li>
                                    <li><a class="dropdown-item" href="#" data-bind="click: AdicionarDadosTransporte.eventClick, text: AdicionarDadosTransporte.text"></a></li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <table width="100%" class="table table-bordered table-hover" id="grid-gestao-dados-coleta" cellspacing="0"></table>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="modal fade" id="divModalAdicionarGestaoDadosColetaDadosNfe" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Dados da NF-e</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="row mb-3" id="divDetalhesColeta" style="display: none;">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header d-flex align-items-center justify-content-between">
                                <h3 class="card-title">Detalhes da Coleta</h3>
                            </div>
                            <div class="card-body">
                                <div class="panel-body col-md-12">
                                    <div class="row" id="knockoutResumoDadosNfe">
                                        <div class="col-12 col-lg-6">
                                            <div class="row">
                                                <label>
                                                    <strong data-bind="text: Cliente.text"></strong>
                                                    <span data-bind="text: Cliente.val"></span>
                                                </label>
                                                <label>
                                                    <strong data-bind="text: Endereco.text"></strong>
                                                    <span data-bind="text: Endereco.val"></span>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-12 col-lg-6">
                                            <div class="row">
                                                <label>
                                                    <strong data-bind="text: Carga.text"></strong>
                                                    <span data-bind="text: Carga.val"></span>
                                                </label>
                                                <label>
                                                    <strong data-bind="text: Pedidos.text"></strong>
                                                    <span data-bind="text: Pedidos.val"></span>
                                                </label>
                                                <label>
                                                    <strong data-bind="text: Origem.text"></strong>
                                                    <span data-bind="text: Origem.val"></span>
                                                </label>
                                                <label>
                                                    <strong data-bind="text: Destino.text"></strong>
                                                    <span data-bind="text: Destino.val"></span>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-12 col-lg-6">
                                            <div class="row">
                                                <label>
                                                    <strong data-bind="text: Transportador.text"></strong>
                                                    <span data-bind="text: Transportador.val"></span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="knockoutGestaoDadosColetaDadosNfe">
                    <div class="col-12 col-lg-6" data-bind="visible: Coleta.visible">
                        <div class="form-group">
                            <label class="form-label" data-bind="text: Coleta.text, attr: { for: Coleta.id }"></label>
                            <div class="input-group">
                                <input type="text" class="form-control" data-bind="css: Coleta.requiredClass, value: Coleta.val, valueUpdate: 'afterkeydown', attr: { maxlength: Coleta.maxlength, id : Coleta.id}" />
                                <div class="input-group-append">
                                    <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: Coleta.idBtnSearch}" type="button" aria-label="Buscar">
                                        <i class="fal fa-search"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <ul class="nav nav-tabs">
                        <li class="nav-item">
                            <a href="#tabDetalhesGestaoDadosColetaDadosNfe" class="nav-link active" data-bs-toggle="tab">
                                <i class="fal fa-list" aria-hidden="true"></i><span class="hidden-mobile hidden-tablet">Dados da NF-e</span>
                            </a>
                        </li>
                        <li class="nav-item" id="liTabMapaGestaoDadosColetaDadosNfe">
                            <a href="#tabMapaGestaoDadosColetaDadosNfe" class="nav-link" data-bs-toggle="tab">
                                <i class="fal fa-map" aria-hidden="true"></i> <span class="hidden-mobile hidden-tablet">Local</span>
                            </a>
                        </li>
                        <li class="nav-item" id="liTabIntegracaoGestaoDadosColetaDadosNFe">
                            <a href="#tabIntegracaoGestaoDadosColetaDadosNFe" class="nav-link" data-bs-toggle="tab">
                                <i class="fal fa-share-alt" aria-hidden="true"></i><span class="hidden-mobile hidden-tablet">Integrações</span>
                            </a>
                        </li>
                        <li class="nav-item" id="liTabGestaoDadosColetaRetornoConfirmacao" aria-hidden="true">
                            <a href="#tabGestaoDadosColetaRetornoConfirmacao" class="nav-link" data-bs-toggle="tab">
                                <i class="fal fa-list" aria-hidden="true"></i><span class="hidden-mobile hidden-tablet">Retorno da Confirmação</span>
                            </a>
                        </li>
                    </ul>

                    <div class="tab-content border border-top-0 p-3 pt-0">
                        <div class="tab-pane fade active show" id="tabDetalhesGestaoDadosColetaDadosNfe" role="tabpanel">
                            <div class="row">
                                <div class="col-12 col-lg-7 mt-3">
                                    <div class="card">
                                        <div class="card-header d-flex align-items-center justify-content-between">
                                            <h3 class="card-title">Foto da NF-e</h3>
                                        </div>
                                        <div class="card-body">
                                            <div class="panel-body col-md-12">
                                                <div class="container-gestao-dados-coleta-dragg">
                                                    <div class="container-gestao-dados-coleta-fotos p-2">
                                                        <div class="container-imagem-coleta-download padding-10">
                                                            <!-- ko if: FotoNotaFiscal.val() == "" -->
                                                            <div class="container-imagem-coleta-selecionar" data-bind="visible: Codigo.val() == 0">
                                                                <input type="file" name="file" accept=".jpg,.jpeg,.png" data-bind="value: ArquivoFoto.val, enable : ArquivoFoto.enable, attr: { id: ArquivoFoto.id }" />
                                                                <label class="btn btn-success" data-bind="attr: {for: ArquivoFoto.id}">Selecionar</label>
                                                            </div>
                                                            <!-- /ko -->
                                                            <!-- ko if: FotoNotaFiscal.val() != "" -->
                                                            <button class="btn btn-danger btn-sm waves-effect waves-themed" type="button" data-bind="click: RemoverFoto.eventClick, visible: Codigo.val() == 0, attr: { value: RemoverFoto.text, id : RemoverFoto.id}">
                                                                <i class="fal fa-trash"></i>
                                                            </button>
                                                            <button type="button" class="btn btn-primary btn-sm waves-effect waves-themed" data-bind="visible: Codigo.val() > 0, click: DownloadFoto.eventClick">
                                                                <i class="fal fa-download"></i>
                                                            </button>
                                                            <!-- /ko -->
                                                        </div>
                                                        <div class="container-imagem-coleta">
                                                            <!-- ko if: FotoNotaFiscal.val() == "" -->
                                                            <div class="sem-imagem">
                                                                <div class="img-nota-fiscal"></div>
                                                            </div>
                                                            <!-- /ko -->
                                                            <!-- ko if: FotoNotaFiscal.val() != "" -->
                                                            <div class="imagem-coleta">
                                                                <img data-bind="attr: { src: 'data:image/png;base64,' + FotoNotaFiscal.val() }" />
                                                            </div>
                                                            <!-- /ko -->
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-12 col-lg-5 mt-3">
                                    <div class="card">
                                        <div class="card-header d-flex align-items-center justify-content-between">
                                            <h3 class="card-title">Informações da NF-e</h3>
                                        </div>
                                        <div class="card-body pb-0">
                                            <div class="row">
                                                <div class="col-12" data-bind="visible: Chave.visible">
                                                    <div class="form-group">
                                                        <label class="form-label" data-bind="text: Chave.text"></label>
                                                        <input type="text" class="form-control" data-bind="class: Chave.requiredClass, value: Chave.val, valueUpdate: 'afterkeydown', attr: { maxlength: Chave.maxlength, id : Chave.id}, enable: Chave.enable" />
                                                    </div>
                                                </div>
                                                <div class="col-12 col-md-6" data-bind="visible: Numero.visible">
                                                    <div class="form-group">
                                                        <label class="form-label" data-bind="text: Numero.text"></label>
                                                        <input type="text" class="form-control" data-bind="class: Numero.requiredClass, value: Numero.val, valueUpdate: 'afterkeydown', attr: { maxlength: Numero.maxlength, id : Numero.id}, enable: Numero.enable" />
                                                    </div>
                                                </div>
                                                <div class="col-12 col-md-6" data-bind="visible: Serie.visible">
                                                    <div class="form-group">
                                                        <label class="form-label" data-bind="text: Serie.text"></label>
                                                        <input type="text" class="form-control" data-bind="class: Serie.requiredClass, value: Serie.val, valueUpdate: 'afterkeydown', attr: { maxlength: Serie.maxlength, id : Serie.id}, enable: Serie.enable" />
                                                    </div>
                                                </div>
                                                <div class="col-12 col-md-6" data-bind="visible: DataEmissao.visible">
                                                    <div class="form-group">
                                                        <label class="form-label" data-bind="text: DataEmissao.text"></label>
                                                        <input type="text" class="form-control" data-bind="class: DataEmissao.requiredClass, value: DataEmissao.val, valueUpdate: 'afterkeydown', attr: { maxlength: DataEmissao.maxlength, id : DataEmissao.id}, enable: DataEmissao.enable" />
                                                    </div>
                                                </div>
                                                <div class="col-12 col-md-6" data-bind="visible: Peso.visible">
                                                    <div class="form-group">
                                                        <label class="form-label" data-bind="text: Peso.text"></label>
                                                        <input type="text" class="form-control" data-bind="class: Peso.requiredClass, value: Peso.val, valueUpdate: 'afterkeydown', attr: { maxlength: Peso.maxlength, id : Peso.id}, enable: Peso.enable" />
                                                    </div>
                                                </div>
                                                <div class="col-12 col-md-6" data-bind="visible: Volumes.visible">
                                                    <div class="form-group">
                                                        <label class="form-label" data-bind="text: Volumes.text"></label>
                                                        <input type="text" class="form-control" data-bind="class: Volumes.requiredClass, value: Volumes.val, valueUpdate: 'afterkeydown', attr: { maxlength: Volumes.maxlength, id : Volumes.id}, enable: Volumes.enable" />
                                                    </div>
                                                </div>
                                                <div class="col-12 col-md-6" data-bind="visible: Valor.visible">
                                                    <div class="form-group">
                                                        <label class="form-label" data-bind="text: Valor.text"></label>
                                                        <input type="text" class="form-control" data-bind="class: Valor.requiredClass, value: Valor.val, valueUpdate: 'afterkeydown', attr: { maxlength: Valor.maxlength, id : Valor.id}, enable: Valor.enable" />
                                                    </div>
                                                </div>
                                                <div class="col-12 col-xl-6" data-bind="visible: Emitente.visible">
                                                    <div class="form-group">
                                                        <label class="form-label" data-bind="text: Emitente.text, attr: { for: Emitente.id }"></label>
                                                        <div class="input-group">
                                                            <input type="text" class="form-control" data-bind="css: Emitente.requiredClass, value: Emitente.val, valueUpdate: 'afterkeydown', attr: { maxlength: Emitente.maxlength, id : Emitente.id}, enable: Emitente.enable" />
                                                            <div class="input-group-append">
                                                                <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: Emitente.idBtnSearch}, enable: Emitente.enable" type="button" aria-label="Buscar">
                                                                    <i class="fal fa-search"></i>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-xl-6" data-bind="visible: Destinatario.visible">
                                                    <div class="form-group">
                                                        <label class="form-label" data-bind="text: Destinatario.text, attr: { for: Destinatario.id }"></label>
                                                        <div class="input-group">
                                                            <input type="text" class="form-control" data-bind="css: Destinatario.requiredClass, value: Destinatario.val, valueUpdate: 'afterkeydown', attr: { maxlength: Destinatario.maxlength, id : Destinatario.id}, enable: Destinatario.enable" />
                                                            <div class="input-group-append">
                                                                <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: Destinatario.idBtnSearch}, enable: Destinatario.enable" type="button" aria-label="Buscar">
                                                                    <i class="fal fa-search"></i>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-mapa tab-pane fade" id="tabMapaGestaoDadosColetaDadosNfe" role="tabpanel">
                            <div class="fieldset-no-padding pt-3">
                                <div id="map" style="width:100%;height:412px;"></div>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="tabIntegracaoGestaoDadosColetaDadosNFe" role="tabpanel">
                            <div class="col-12 col-md-12">
                                <div class="card">
                                    <div class="card-header d-flex align-items-center justify-content-between">
                                        <h3 class="card-title">Integrações</h3>
                                    </div>
                                    <div class="card-body">
                                        <div id="containerIntegracaoGestaoDadosColetaDadosNFe"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="tabGestaoDadosColetaRetornoConfirmacao" role="tabpanel">
                            <div class="row">
                                <div class="col-12 col-md-12 mt-3">
                                    <div class="card">
                                        <div class="card-header d-flex align-items-center justify-content-between">
                                            <h3 class="card-title">Dados</h3>
                                        </div>
                                        <div class="card-body">
                                            <div class="row">
                                                <label>
                                                    <strong data-bind="text: DataRetornoConfirmacaoColeta.text"></strong>
                                                    <span data-bind="text: DataRetornoConfirmacaoColeta.val"></span>
                                                </label>
                                            </div>
                                            <div class="row">
                                                <label>
                                                    <strong data-bind="text: OperacaoRetornoConfirmacaoColeta.text"></strong>
                                                    <span data-bind="text: OperacaoRetornoConfirmacaoColeta.val"></span>
                                                </label>
                                            </div>
                                            <div class="row">
                                                <label>
                                                    <strong data-bind="text: IdExternoRetornoConfirmacaoColeta.text"></strong>
                                                    <span data-bind="text: IdExternoRetornoConfirmacaoColeta.val"></span>
                                                </label>
                                            </div>
                                            <div class="row">
                                                <label>
                                                    <strong data-bind="text: ErroRetornoConfirmacaoColeta.text"></strong>
                                                    <span data-bind="text: ErroRetornoConfirmacaoColeta.val"></span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div data-bind="visible: RejeitarDadosNota.visible() || AprovarDadosNota.visible() || SalvarDadosNota.visible()">
                        <div class="d-flex justify-content-end mt-3" style="gap: 3px;">
                            <button class="btn btn-danger" type="button" data-bind="click: RejeitarDadosNota.eventClick, attr: { id: RejeitarDadosNota.idBtnSearch}, visible: RejeitarDadosNota.visible">
                                <span data-bind="text: RejeitarDadosNota.text"></span>
                            </button>
                            <button class="btn btn-success" type="button" data-bind="click: AprovarDadosNota.eventClick, attr: { id: AprovarDadosNota.idBtnSearch}, visible: AprovarDadosNota.visible">
                                <span data-bind="text: AprovarDadosNota.text"></span>
                            </button>
                            <button class="btn btn-success" type="button" data-bind="click: SalvarDadosNota.eventClick, attr: { id: SalvarDadosNota.idBtnSearch}, visible: SalvarDadosNota.visible">
                                <span data-bind="text: SalvarDadosNota.text"></span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="divModalMotivoRejeicao" role="dialog" aria-hidden="true">
    <div id="knockoutMotivoRejeicao" class="modal-dialog modal-md modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header justify-content-center">
                <h4 class="modal-title">Motivo</h4>
            </div>
            <div class="modal-body">
                <h5>Uma notificação será enviada ao motorista informando sobre a rejeição.</h5>
                <label>Motivo de rejeição</label>
                <div class="input-group">
                    <input type="text" class="form-control" data-bind="css: MotivoRejeicao.requiredClass, value: MotivoRejeicao.val, valueUpdate: 'afterkeydown', attr: {  id : MotivoRejeicao.id}"/>
                    <div class="input-group-append">
                        <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: MotivoRejeicao.idBtnSearch}" type="button" aria-label="Buscar">
                            <i class="fal fa-search"></i>
                        </button>
                    </div>
                </div>
                <div class="d-flex justify-content-center mt-3">
                    <button class="btn btn-default me-2" type="button" data-bind="click: CancelarRejeitar.eventClick, attr: { id : CancelarRejeitar.id}">
                        <span data-bind="text: CancelarRejeitar.text"></span>
                    </button>
                    <button class="btn btn-danger" type="button" data-bind="click: RejeitarComMotivo.eventClick, attr: { id : RejeitarComMotivo.id}">
                        <span data-bind="text: RejeitarComMotivo.text"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="divModalAdicionarGestaoDadosColetaDadosTransporte" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Dados de Transporte</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="row mb-3" id="divDetalhesColetaTransporte" style="display:none">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header d-flex align-items-center justify-content-between">
                                <h3 class="card-title">Detalhes da Coleta</h3>
                            </div>
                            <div class="card-body">
                                <div class="panel-body col-md-12">
                                    <div class="row" id="knockoutResumoDadosTransporte">
                                        <div class="col-12 col-lg-6">
                                            <div class="row">
                                                <label>
                                                    <strong data-bind="text: Cliente.text"></strong>
                                                    <span data-bind="text: Cliente.val"></span>
                                                </label>
                                                <label>
                                                    <strong data-bind="text: Endereco.text"></strong>
                                                    <span data-bind="text: Endereco.val"></span>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-12 col-lg-6">
                                            <div class="row">
                                                <label>
                                                    <strong data-bind="text: Carga.text"></strong>
                                                    <span data-bind="text: Carga.val"></span>
                                                </label>
                                                <label>
                                                    <strong data-bind="text: Pedidos.text"></strong>
                                                    <span data-bind="text: Pedidos.val"></span>
                                                </label>
                                                <label>
                                                    <strong data-bind="text: Origem.text"></strong>
                                                    <span data-bind="text: Origem.val"></span>
                                                </label>
                                                <label>
                                                    <strong data-bind="text: Destino.text"></strong>
                                                    <span data-bind="text: Destino.val"></span>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-12 col-lg-6">
                                            <div class="row">
                                                <label>
                                                    <strong data-bind="text: Transportador.text"></strong>
                                                    <span data-bind="text: Transportador.val"></span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="knockoutGestaoDadosColetaDadosTransporte">
                    <div class="col-12 col-lg-6" data-bind="visible: Coleta.visible">
                        <div class="form-group">
                            <label class="form-label" data-bind="text: Coleta.text, attr: { for: Coleta.id }"></label>
                            <div class="input-group">
                                <input type="text" class="form-control" data-bind="css: Coleta.requiredClass, value: Coleta.val, valueUpdate: 'afterkeydown', attr: { maxlength: Coleta.maxlength, id : Coleta.id}" />
                                <div class="input-group-append">
                                    <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: Coleta.idBtnSearch}" type="button" aria-label="Buscar">
                                        <i class="fal fa-search"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <ul class="nav nav-tabs">
                        <li class="nav-item">
                            <a href="#tabDetalhesGestaoDadosColetaDadosTransporte" class="nav-link active" data-bs-toggle="tab">
                                <i class="fal fa-list" aria-hidden="true"></i><span class="hidden-mobile hidden-tablet">Dados de Transporte</span>
                            </a>
                        </li>
                        <li class="nav-item" id="liTabIntegracaoGestaoDadosColetaDadosTransporte">
                            <a href="#tabIntegracaoGestaoDadosColetaDadosTransporte" class="nav-link" data-bs-toggle="tab">
                                <i class="fal fa-share-alt" aria-hidden="true"></i><span class="hidden-mobile hidden-tablet">Integrações</span>
                            </a>
                        </li>
                    </ul>

                    <div class="tab-content border border-top-0 p-3">
                        <div class="tab-pane fade active show" id="tabDetalhesGestaoDadosColetaDadosTransporte" role="tabpanel">
                            <div class="col-12 col-md-12" data-bind="visible: AdicionarMotorista.visible">
                                <div class="row">
                                    <div class="col-12 col-md-6" data-bind="visible: Veiculo.visible">
                                        <div class="form-group">
                                            <label class="form-label" data-bind="text: Veiculo.text, attr: { for: Veiculo.id }"></label>
                                            <div class="input-group">
                                                <input type="text" class="form-control" data-bind="css: Veiculo.requiredClass, value: Veiculo.val, enable: Veiculo.enable, valueUpdate: 'afterkeydown', attr: { maxlength: Veiculo.maxlength, id : Veiculo.id}" />
                                                <div class="input-group-append">
                                                    <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: Veiculo.idBtnSearch}, enable: Veiculo.enable" type="button" aria-label="Buscar">
                                                        <i class="fal fa-search"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-6" data-bind="visible: Reboque.visible">
                                        <div class="form-group">
                                            <label class="form-label" data-bind="text: Reboque.text, attr: { for: Reboque.id }"></label>
                                            <div class="input-group">
                                                <input type="text" class="form-control" data-bind="css: Reboque.requiredClass, value: Reboque.val, enable: Reboque.enable, valueUpdate: 'afterkeydown', attr: { maxlength: Reboque.maxlength, id : Reboque.id}" />
                                                <div class="input-group-append">
                                                    <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: Reboque.idBtnSearch}" type="button" aria-label="Buscar">
                                                        <i class="fal fa-search"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-6" data-bind="visible: SegundoReboque.visible">
                                        <div class="form-group">
                                            <label class="form-label" data-bind="text: SegundoReboque.text, attr: { for: SegundoReboque.id }"></label>
                                            <div class="input-group">
                                                <input type="text" class="form-control" data-bind="css: SegundoReboque.requiredClass, value: SegundoReboque.val, enable: SegundoReboque.enable, valueUpdate: 'afterkeydown', attr: { maxlength: SegundoReboque.maxlength, id : SegundoReboque.id}" />
                                                <div class="input-group-append">
                                                    <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: SegundoReboque.idBtnSearch}" type="button" aria-label="Buscar">
                                                        <i class="fal fa-search"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="card">
                                    <div class="card-header">
                                        <h3 class="card-title">Motoristas</h3>
                                    </div>
                                    <div class="card-body">
                                        <div class="col-12 col-md-12">
                                            <button class="botoao-adicionar-motorista btn btn-primary mb-2 mt-2" type="button" data-bind="click: AdicionarMotorista.eventClick, attr: { id: AdicionarMotorista.idBtnSearch}, visible: AdicionarMotorista.visible">
                                                <i class="fal fa-plus"></i><span data-bind="text: AdicionarMotorista.text"></span>
                                            </button>
                                            <div>
                                                <table width="100%" class="table table-bordered table-hover" data-bind="attr: {id: AdicionarMotorista.idGrid}" cellspacing="0"></table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="tabIntegracaoGestaoDadosColetaDadosTransporte" role="tabpanel">
                            <div class="col-12 col-md-12">
                                <div class="card">
                                    <div class="card-header d-flex align-items-center justify-content-between">
                                        <h3 class="card-title">Integrações</h3>
                                    </div>
                                    <div class="card-body">
                                        <div id="containerIntegracaoGestaoDadosColetaDadosTransporte"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div data-bind="visible: RejeitarDadosTransporte.visible() || AprovarDadosTransporte.visible() || SalvarDadosTransporte.visible()">
                        <div class="d-flex justify-content-end mt-3" style="gap: 3px;">
                            <button class="btn btn-danger" type="button" data-bind="click: RejeitarDadosTransporte.eventClick, attr: { id: RejeitarDadosTransporte.idBtnSearch}, visible: RejeitarDadosTransporte.visible">
                                <span data-bind="text: RejeitarDadosTransporte.text"></span>
                            </button>
                            <button class="btn btn-success" type="button" data-bind="click: AprovarDadosTransporte.eventClick, attr: { id: AprovarDadosTransporte.idBtnSearch}, visible: AprovarDadosTransporte.visible">
                                <span data-bind="text: AprovarDadosTransporte.text"></span>
                            </button>
                            <button class="btn btn-success" type="button" data-bind="click: SalvarDadosTransporte.eventClick, attr: { id: SalvarDadosTransporte.idBtnSearch}, visible: SalvarDadosTransporte.visible">
                                <span data-bind="text: SalvarDadosTransporte.text"></span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="divModalHistoricoIntegracaoGestaoDadosColetaDadosNfe" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Historico Integração</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <table width="100%" class="table table-bordered table-hover" cellspacing="0" id="gridHistoricoIntegracaoGestaoDadosColetaDadosNfe"></table>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="divModalHistoricoIntegracaoGestaoDadosColetaDadosTransporte" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Historico Integração</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <table width="100%" class="table table-bordered table-hover" cellspacing="0" id="gridHistoricoIntegracaoGestaoDadosColetaDadosTransporte"></table>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="~/scripts/gestaoDadosColeta"></script>

<script type="text/javascript">

    pageSetUp();

    $(document).ready(function () {
        loadGestaoDadosColeta();
    });

</script>
