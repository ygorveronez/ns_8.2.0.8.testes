

<style>
    table.table-bordered.dataTable {
        border-collapse: collapse !important;
    }

    table.table-bordered tbody th,
    table.table-bordered tbody td {
        border-width: 1px;
    }

    table.table-bordered tbody tr td.dataTables_empty {
        padding: 4px 10px !important;
    }

    table.table-bordered tbody tr td.sorting_disabled_opcao {
        padding: 3px 10px !important;
    }

    table.dataTable thead th {
        border-bottom-width: 2px;
    }

    table.table-bordered th:last-child,
    table.table-bordered td:last-child {
        border-right-width: 1px;
    }

    .btn-jarviswidget-content {
        float: right;
        margin-bottom: 8px;
    }

    .jarviswidget .jarviswidget-content {
        padding-bottom: 13px;
    }

    .jarviswidget header .small-header {
        width: 120px !important;
    }

    @@media (min-width: 768px) {
        .jarviswidget-container-fixed {
            padding-right: 1px;
            position: fixed;
            top: 14px;
        }
    }

    .label-fixed-size {
        text-align: right;
        width: 110px;
    }


    .no-padding-bottom {
        padding-bottom: 0;
    }

    .smart-form .fieldset-padding {
        padding: 10px 10px 10px;
    }

    .text-overflow-hidden {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

        .text-overflow-hidden > label > span {
            padding-left: 5px;
        }

    div.container-fluxo {
        height: auto !important
    }

    .legenda-container div {
        padding: 0 5px;
    }

    @@media (max-width: 1300px) {
        .legenda-container div {
            width: 20% !important;
        }
    }

    @@media (max-width: 768px) {
        .legenda-container div {
            width: 33.3333333% !important;
        }
    }

    @@media (max-width: 499px) {
        .legenda-container div {
            width: 50% !important;
        }
    }

    @@media (max-width: 319px) {
        .legenda-container div {
            width: 100% !important;
        }
    }

    .legenda-cor-amarelo {
        background-color: #ffffe6;
        border: solid 1px #e6ac00;
    }

    .progress-bar-desc {
        font-size: 11px;
        margin-left: 5px;
    }

    span.temperatura-gm {
        font-size: 10px;
        border-radius: 20px;
        padding: 3px 5px;
    }

    span.na-faixa {
        background-color: #3498db;
        color: #FFFFFF;
    }

    span.fora-da-faixa {
        background-color: #e74c3c;
        color: #FFFFFF;
    }

    span.sem-controle {
        background-color: none;
    }
</style>

<div class="page-title">
    Monitoramento
</div>

<div class="page-content">
    <div id="knockoutPesquisaMonitoramento">
        <form>
            <div class="mb-4">
                <div data-bind="id: ExibirFiltros.idFade, fadeVisible: ExibirFiltros.visibleFade">
                    <div class="row mb-4">
                        <div data-bind="visible : CodigoCargaEmbarcador.visible" class="col-sm-2">
                            <input class="form-control" type="text" data-bind="value: CodigoCargaEmbarcador.val, attr: { maxlength: CodigoCargaEmbarcador.maxlength, id : CodigoCargaEmbarcador.id, placeholder: CodigoCargaEmbarcador.placeholder} , valueUpdate: 'afterkeydown'" />
                        </div>
                        <div data-bind="visible : NumeroPedido.visible" class="col-sm-2">
                            <input class="form-control" type="text" data-bind="value: NumeroPedido.val, attr: { maxlength: NumeroPedido.maxlength, id : NumeroPedido.id, placeholder: NumeroPedido.placeholder} , valueUpdate: 'afterkeydown'" />
                        </div>
                        <div data-bind="visible : NumeroNotaFiscal.visible" class="col-sm-2">
                            <input class="form-control" type="text" data-bind="value: NumeroNotaFiscal.val, attr: { maxlength: NumeroNotaFiscal.maxlength, id : NumeroNotaFiscal.id, placeholder: NumeroNotaFiscal.placeholder} , valueUpdate: 'afterkeydown'" />
                        </div>
                        <div data-bind="visible: DataInicial.visible, attr: { class: DataInicial.cssClass}" class="col-sm-2">
                            <input class="form-control" type="text" data-bind="value: DataInicial.val, valueUpdate: 'afterkeydown', attr: { maxlength: DataInicial.maxlength, id : DataInicial.id, placeholder: DataInicial.placeholder}" />
                        </div>
                        <div data-bind="visible: DataFinal.visible, attr: { class: DataFinal.cssClass}" class="col-sm-2">
                            <input class="form-control" type="text" data-bind="value: DataFinal.val, valueUpdate: 'afterkeydown', attr: { maxlength: DataFinal.maxlength, id : DataFinal.id, placeholder: DataFinal.placeholder} " />
                        </div>
                        <div data-bind="visible: MonitoramentoStatus.visible" class="col-sm-2">
                            <label class="select">
                                <select class="form-control" data-bind="options: MonitoramentoStatus.options, optionsText: 'text', optionsValue: 'value', value: MonitoramentoStatus.val, attr: { id : MonitoramentoStatus.id, placeholder: MonitoramentoStatus.placeholder} "></select>
                                <i></i>
                            </label>
                        </div>
                    </div>
                    <div data-bind="id: BuscaAvancada.idFade, fadeVisible: BuscaAvancada.visibleFade">
                        <div class="row mb-4">
                            <div data-bind="visible: DataEntregaPedidoInicio.visible" class="col-sm-2">
                                <input class="form-control" type="text" data-bind="value: DataEntregaPedidoInicio.val, valueUpdate: 'afterkeydown', attr: { maxlength: DataEntregaPedidoInicio.maxlength, id : DataEntregaPedidoInicio.id, placeholder: DataEntregaPedidoInicio.placeholder}" />
                            </div>
                            <div data-bind="visible: DataEntregaPedidoFinal.visible" class="col-sm-2">
                                <input class="form-control" type="text" data-bind="value: DataEntregaPedidoFinal.val, valueUpdate: 'afterkeydown', attr: { maxlength: DataEntregaPedidoFinal.maxlength, id : DataEntregaPedidoFinal.id, placeholder: DataEntregaPedidoFinal.placeholder} " />
                            </div>
                            <div data-bind="visible: PrevisaoEntregaInicio.visible" class="col-sm-2">
                                <input class="form-control" type="text" data-bind="value: PrevisaoEntregaInicio.val, valueUpdate: 'afterkeydown', attr: { maxlength: PrevisaoEntregaInicio.maxlength, id : PrevisaoEntregaInicio.id, placeholder: PrevisaoEntregaInicio.placeholder} " />
                            </div>
                            <div data-bind="visible: PrevisaoEntregaFinal.visible" class="col-sm-2">
                                <input class="form-control" type="text" data-bind="value: PrevisaoEntregaFinal.val, valueUpdate: 'afterkeydown', attr: { maxlength: PrevisaoEntregaFinal.maxlength, id : PrevisaoEntregaFinal.id, placeholder: PrevisaoEntregaFinal.placeholder} " />
                            </div>
                            <div data-bind="visible: DataEmissaoNFeInicio.visible" class="col-sm-2">
                                <input class="form-control" type="text" data-bind="value: DataEmissaoNFeInicio.val, valueUpdate: 'afterkeydown', attr: { maxlength: DataEmissaoNFeInicio.maxlength, id : DataEmissaoNFeInicio.id, placeholder: DataEmissaoNFeInicio.placeholder} " />
                            </div>
                            <div data-bind="visible: DataEmissaoNFeFim.visible" class="col-sm-2">
                                <input class="form-control" type="text" data-bind="value: DataEmissaoNFeFim.val, valueUpdate: 'afterkeydown', attr: { maxlength: DataEmissaoNFeFim.maxlength, id : DataEmissaoNFeFim.id, placeholder: DataEmissaoNFeFim.placeholder} " />
                            </div>
                        </div>
                        <div class="row mb-4">
                            <div class="col-12 col-md-3" data-bind="visible: Filial.visible">
                                <div class="form-group">
                                    <div class="input-group">
                                        <input type="text" class="form-control" data-bind="css: Filial.requiredClass, value: Filial.val, valueUpdate: 'afterkeydown', attr: { maxlength: Filial.maxlength, id : Filial.id, placeholder: Filial.placeholder }" />
                                        <div class="input-group-append">
                                            <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: Filial.idBtnSearch}" type="button" aria-label="Buscar">
                                                <i class="fal fa-search"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-md-3" data-bind="visible: Veiculo.visible">
                                <div class="form-group">
                                    <div class="input-group">
                                        <input type="text" class="form-control" data-bind="css: Veiculo.requiredClass, value: Veiculo.val, valueUpdate: 'afterkeydown', attr: { maxlength: Veiculo.maxlength, id : Veiculo.id, placeholder: Veiculo.placeholder }" />
                                        <div class="input-group-append">
                                            <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: Veiculo.idBtnSearch}" type="button" aria-label="Buscar">
                                                <i class="fal fa-search"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-md-3" data-bind="visible: EstadoOrigem.visible">
                                <div class="form-group">
                                    <div class="input-group">
                                        <input type="text" class="form-control" data-bind="css: EstadoOrigem.requiredClass, value: EstadoOrigem.val, valueUpdate: 'afterkeydown', attr: { maxlength: EstadoOrigem.maxlength, id : EstadoOrigem.id, placeholder: EstadoOrigem.placeholder }" />
                                        <div class="input-group-append">
                                            <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: EstadoOrigem.idBtnSearch}" type="button" aria-label="Buscar">
                                                <i class="fal fa-search"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-md-3" data-bind="visible: EstadoDestino.visible">
                                <div class="form-group">
                                    <div class="input-group">
                                        <input type="text" class="form-control" data-bind="css: EstadoDestino.requiredClass, value: EstadoDestino.val, valueUpdate: 'afterkeydown', attr: { maxlength: EstadoDestino.maxlength, id : EstadoDestino.id, placeholder: EstadoDestino.placeholder }" />
                                        <div class="input-group-append">
                                            <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: EstadoDestino.idBtnSearch}" type="button" aria-label="Buscar">
                                                <i class="fal fa-search"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mb-4">
                            <div class="col-12 col-md-3" data-bind="visible: Destino.visible">
                                <div class="form-group">
                                    <div class="input-group">
                                        <input type="text" class="form-control" data-bind="css: Destino.requiredClass, value: Destino.val, valueUpdate: 'afterkeydown', attr: { maxlength: Destino.maxlength, id : Destino.id, placeholder: Destino.placeholder }" />
                                        <div class="input-group-append">
                                            <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: Destino.idBtnSearch}" type="button" aria-label="Buscar">
                                                <i class="fal fa-search"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mb-4">
                            <div class="col-12 col-md-3" data-bind="visible: SomenteRastreados.visible">
                                <div class="form-group">
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" data-bind="checked: SomenteRastreados.val, attr: { maxlength: SomenteRastreados.maxlength, name: SomenteRastreados.id, id: SomenteRastreados.id }">
                                        <label class="custom-control-label" data-bind="text: SomenteRastreados.text, attr: { for: SomenteRastreados.id }"></label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-md-3" data-bind="visible: VeiculosComContratoDeFrete.visible">
                                <div class="form-group">
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" data-bind="checked: VeiculosComContratoDeFrete.val, attr: { maxlength: VeiculosComContratoDeFrete.maxlength, name: VeiculosComContratoDeFrete.id, id: VeiculosComContratoDeFrete.id }">
                                        <label class="custom-control-label" data-bind="text: VeiculosComContratoDeFrete.text, attr: { for: VeiculosComContratoDeFrete.id }"></label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-end mb-4">
                        <button class="btn btn-default btnPesquisarFiltroPesquisa ms-3" data-bind="click: BuscaAvancada.eventClick, attr: { id: BuscaAvancada.id}" type="button">
                            <i data-bind="attr: { class: BuscaAvancada.icon}" class="fal fa-plus"></i>&nbsp;<span data-bind="text: BuscaAvancada.text"></span>
                        </button>
                        <button class="btn btn-primary btnPesquisarFiltroPesquisa ms-3" data-bind="click: Pesquisar.eventClick, attr: { id: Pesquisar.id}" type="button">
                            <i class="fal fa-search"></i>&nbsp;<span data-bind="text: Pesquisar.text"></span>
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <div class="monitoramento-container" id="monitoramento-container">
        <div id="knockoutAlertasResumo" style="display:none"></div>
        <div class="panel" id="container-monitoramento-conteudo">
            <div class="panel-container" id="wid-id-1" data-widget-colorbutton="false" data-widget-deletebutton="false" data-widget-editbutton="false" data-widget-custombutton="false">
                <div class="panel-hdr">
                    <h3>
                        <i class="fal fa-edit"></i>
                        {Localize::Logistica.Monitoramento.Monitoramentos}
                    </h3>
                </div>
                <div class="panel-content">
                    <form>
                        <div class="row">
                            <div class="widget-body no-padding-bottom" id="container-grid-monitoramento">
                                <table width="100%" class="table table-bordered table-hover table-condensed" id="grid-monitoramento" cellspacing="0"></table>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="divModalMapa" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true"> ×</button>
                <h4 class="modal-title">Visualizar no mapa <span class="title-carga-codigo-embarcador"></span> - <span class="title-carga-placa"></span></h4>
            </div>
            <div class="modal-body padding-bottom-5">
                <div class="jarviswidget">
                    <header role="heading">
                        <ul class="nav nav-tabs pull-left in" id="myTab">
                            <li id="liTabModalMapaMapa" class="active">
                                <a data-toggle="tab" href="#tabModalMapaMapa"><i class="fal fa-map" style="margin-right:10px"></i><span class="hidden-mobile hidden-tablet">Mapa</span></a>
                            </li>
                            <li id="liTabModalMapaParadas">
                                <a data-toggle="tab" href="#tabModalMapaParadas"><i class="fal fa-hand-paper" style="margin-right:10px"></i><span class="hidden-mobile hidden-tablet">Paradas</span></a>
                            </li>
                        </ul>
                    </header>
                    <div role="contentinfo" class="smart-form" style="padding-top:0px">
                        <div id="myTabContent" class="tab-content">
                            <div id="tabModalMapaMapa" class="tab-pane active row">
                                <div class="smart-form" id="DetalhesMapa" style="padding:2px">
                                    <div class="legenda-rotas-container">
                                        <div>
                                            <strong>Rotas</strong>
                                            <ul id="legenda-rotas-mapa" class="legenda">
                                                <li class="rota-planejada"><span class="linha"></span><span class="descricao">Planejada</span><span class="distancia"></span></li>
                                                <li class="rota-ate-origem"><span class="linha"></span><span class="descricao">Até origem</span><span class="distancia"></span></li>
                                                <li class="rota-ate-destino"><span class="linha"></span><span class="descricao">Até destino</span><span class="distancia"></span></li>
                                                <li class="rota-realizada"><span class="linha"></span><span class="descricao">Realizada</span><span class="distancia"></span></li>
                                            </ul>
                                        </div>
                                    </div>
                                    <fieldset class="fieldset-no-padding">
                                        <div id="map" style="width:100%;height:600px;"></div>
                                    </fieldset>
                                </div>
                            </div>
                            <div id="tabModalMapaParadas" class="tab-pane row">
                                <div class="col col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding:15px">
                                    <div id="container-grid-mapa-paradas">
                                        <table width="100%" class="table table-bordered table-hover table-condensed" id="grid-mapa-paradas" cellspacing="0"></table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="divModalTratativaAlerta" role="dialog" aria-hidden="true">
    <div class="modal-dialog" id="knockoutCRUDTratativaAlerta">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true"> ×</button>
                <h4 class="modal-title">Tratativa do alerta <span class="title-carga-codigo-embarcador"></span> - <span class="title-carga-placa"></span></h4>
            </div>
            <div class="modal-body">
                <div class="smart-form">
                    <fieldset>
                        <section data-bind="visible: Tratativa.visible" class="col col-xs-12">
                            <label class="label"><b data-bind="text: Tratativa.text"></b></label>
                            <label class="select">
                                <select data-bind="options: Tratativa.options, optionsText: 'text', optionsValue: 'value', value: Tratativa.val, attr: { id : Tratativa.id}"></select>
                                <i></i>
                            </label>
                        </section>

                        <section data-bind="visible: Observacao.visible" class="col col-xs-12">
                            <label class="label"><b data-bind="text: Observacao.text"></b></label>
                            <label class="input">
                                <textarea style="width: 100%;" rows="5" type="text" data-bind="value: Observacao.val, valueUpdate: 'afterkeydown', attr: { maxlength: Observacao.maxlength, id : Observacao.id}"></textarea>
                            </label>
                        </section>
                    </fieldset>
                </div>
            </div>
            <div class="modal-footer">
                <footer class="text-right">
                    <input type="button" data-bind="click: Cancelar.eventClick, attr: { value: Cancelar.text, id : Cancelar.id}" class="btn btn-labeled btn-default botaoDentroSmartAdmimForm">
                    <input type="button" data-bind="click: Confirmar.eventClick, attr: { value: Confirmar.text, id : Confirmar.id}" class="btn btn-labeled btn-success botaoDentroSmartAdmimForm">
                </footer>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="divModalAlertaDetalhe" role="dialog" aria-hidden="true">
    <div class="modal-dialog" id="knockoutAlertaDetalhe">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true"> ×</button>
                <h4 class="modal-title">Detalhes do alerta</h4>
            </div>
            <div class="modal-body">
                <div class="smart-form">
                    <fieldset style="padding-top: 0">
                        <section data-bind="attr:{id:Codigo.id}">
                            <b data-bind="text: Codigo.text"></b> <span data-bind="text:Codigo.val"></span>
                        </section>
                        <section data-bind="attr:{id:DataCadastro.id}">
                            <b data-bind="text: DataCadastro.text"></b> <span data-bind="text:DataCadastro.val"></span>
                        </section>
                        <section data-bind="attr:{id:Data.id}">
                            <b data-bind="text: Data.text"></b> <span data-bind="text:Data.val"></span>
                        </section>
                        <section data-bind="attr:{id:Tipo.id}">
                            <b data-bind="text: Tipo.text"></b> <span data-bind="text:Tipo.val"></span>
                        </section>
                        <section data-bind="attr:{id:AlertaDescricao.id}">
                            <b data-bind="text: AlertaDescricao.text"></b> <span data-bind="text:AlertaDescricao.val"></span>
                        </section>
                        <section data-bind="attr:{id:Coordenadas.id}">
                            <b data-bind="text: Coordenadas.text"></b> <span data-bind="text:Latitude.val"></span>;<span data-bind="text:Longitude.val"></span>
                        </section>
                        <section data-bind="attr:{id:Carga.id}">
                            <b data-bind="text: Carga.text"></b> <span data-bind="text:Carga.val"></span>
                        </section>
                        <section data-bind="attr:{id:Veiculo.id}">
                            <b data-bind="text: Veiculo.text"></b> <span data-bind="text:Veiculo.val"></span>
                        </section>
                        <section data-bind="attr:{id:StatusDescricao.id}">
                            <b data-bind="text: StatusDescricao.text"></b> <span data-bind="text:StatusDescricao.val"></span>
                        </section>
                    </fieldset>
                    <fieldset data-bind="visible:RegistroTratativa.visible, attr:{id:RegistroTratativa.id}">
                        <section data-bind="attr:{id:Tratativa.id}">
                            <b data-bind="text: Tratativa.text"></b> <span data-bind="text:Tratativa.val"></span>
                        </section>
                        <section data-bind="attr:{id:Usuario.id}">
                            <b data-bind="text: Usuario.text"></b> <span data-bind="text:Usuario.val"></span>
                        </section>
                        <section data-bind="attr:{id:DataFim.id}">
                            <b data-bind="text: DataFim.text"></b> <span data-bind="text:DataFim.val"></span>
                        </section>
                        <section data-bind="attr:{id:Observacao.id}">
                            <b data-bind="text: Observacao.text"></b> <span data-bind="text:Observacao.val"></span>
                        </section>
                    </fieldset>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="divModalAlerta" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true"> ×</button>
                <h4 class="modal-title">Visualizar alertas <span class="title-carga-codigo-embarcador"></span> - <span class="title-carga-placa"></span></h4>
            </div>
            <div class="modal-body padding-bottom-5">
                <div class="widget-body no-padding">
                    <div class="20-content">
                        <div class="widget-body no-padding-bottom" id="container-grid-alertas">
                            <table width="100%" class="table table-bordered table-hover table-condensed table-striped tableCursorMove" id="grid-alertas" cellspacing="0"></table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="divModalDetalhesCarga" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-body p-0">
                <div class="smart-form">
                    <fieldset id="fdsCarga" style="background-color: transparent"></fieldset>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal modal-wide fade" id="knoutContainerControleEntrega" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true"> ×</button>
                <h4 class="modal-title">Detalhe das entregas <span class="title-carga-codigo-embarcador"></span> - <span class="title-carga-placa"></span></h4>
            </div>
            <div class="modal-body no-padding">
                <div class="widget-body">
                    <fieldset class="clearfix">
                        <!-- ko foreach: { data: Entregas.val, as: 'Entrega' } -->
                        <!-- ko component: {name: "carga-entrega", params: Entrega} --><!-- /ko -->
                        <!-- /ko -->
                    </fieldset>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="divModalResumoCarga" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true"> ×</button>
                <h4 class="modal-title">Resumo da carga <span class="title-carga-codigo-embarcador"></span> - <span class="title-carga-placa"></span></h4>
            </div>
            <div class="modal-body padding-bottom-5">
                <div class="widget-body no-padding">
                    <div class="20-content">
                        <div class="widget-body no-padding-bottom" id="container-grid-resumo-carga">
                            <table width="100%" class="table table-bordered table-hover table-condensed table-striped tableCursorMove" id="grid-resumo-carga" cellspacing="0"></table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="divModalAlteracaoNumeroRastreador" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content" id="knockoutAlteracaoNumeroRastreador">
            <div class="modal-header">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true"> ×</button>
                <h4 class="modal-title">Alterar número do rastreador - <span class="title-carga-placa"></span></h4>
            </div>
            <div class="modal-body smart-form padding-bottom-5">
                <div class="row">
                    <section data-bind="visible: NumeroRastreador.visible" class="col col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <label class="label"><b data-bind="text: NumeroRastreador.text"></b></label>
                        <label data-bind="attr: { class: NumeroRastreador.requiredClass}">
                            <input type="text" data-bind="value: NumeroRastreador.val, valueUpdate: 'afterkeydown', attr: { maxlength: NumeroRastreador.maxlength, id : NumeroRastreador.id}" />
                        </label>
                    </section>
                </div>
            </div>
            <div class="modal-footer">
                <footer class="text-right">
                    <input type="button" data-bind="click: Cancelar.eventClick, attr: { value: Cancelar.text, id : Cancelar.id}" class="btn btn-labeled btn-default botaoDentroSmartAdmimForm">
                    <input type="button" data-bind="click: Confirmar.eventClick, attr: { value: Confirmar.text, id : Confirmar.id}" class="btn btn-labeled btn-success botaoDentroSmartAdmimForm">
                </footer>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="divModalAlteracaoDataPrevisaoReprogramada" role="dialog" aria-hidden="true" tabindex="-1">
    <div class="modal-dialog modal-md modal-dialog-centered" style="max-width:490px !important">
        <div class="modal-content" id="knockoutAlteracaoDataPrevisaoReprogramada">
            <div class="modal-header">
                <h4 class="modal-title">Alterar Data Previsão Reprogramada (ETA)</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body smart-form padding-bottom-5">
                <div class="row">
                    <div class="col-12 col-md-12" data-bind="visible: DataPrevisaoReprogramada.visible">
                        <div class="form-group">
                            <label class="form-label" data-bind="text: DataPrevisaoReprogramada.text, attr: { for: DataPrevisaoReprogramada.id }"></label>
                            <input type="text" class="form-control" data-bind="class: DataPrevisaoReprogramada.requiredClass, value: DataPrevisaoReprogramada.val, valueUpdate: 'afterkeydown', attr: { maxlength: DataPrevisaoReprogramada.maxlength, id : DataPrevisaoReprogramada.id}" />
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-end">
                    <footer class="text-right">
                        <input type="button" data-bind="click: Cancelar.eventClick, attr: { value: Cancelar.text, id : Cancelar.id}" class="btn btn-default me-2">
                        <input type="button" data-bind="click: Confirmar.eventClick, attr: { value: Confirmar.text, id : Confirmar.id}" class="btn btn-success">
                    </footer>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="divModalPosicaoManual" role="dialog" aria-hidden="true" tabindex="-1">
    <div class="modal-dialog modal-xl modal-dialog-centered" id="knockoutCRUDMapaAdicionarPosicao">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">
                    Adicionar nova Posição
                    <span class="title-carga-codigo-embarcador"></span> - <span class="title-carga-placa"></span>
                </h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-12 col-md-2" data-bind="visible: Data.visible">
                        <div class="form-group">
                            <label class="form-label" data-bind="text: Data.text"></label>
                            <input type="text" class="form-control" data-bind="class: Data.requiredClass, value: Data.val, valueUpdate: 'afterkeydown', attr: { maxlength: Data.maxlength, id : Data.id}" />
                        </div>
                    </div>
                    <div class="col-12 col-md-2" data-bind="visible: Latitude.visible">
                        <div class="form-group">
                            <label class="form-label" data-bind="text: Latitude.text"></label>
                            <input type="text" class="form-control" data-bind="class: Latitude.requiredClass, value: Latitude.val, valueUpdate: 'afterkeydown', attr: { maxlength: Latitude.maxlength, id : Latitude.id}" />
                        </div>
                    </div>
                    <div class="col-12 col-md-2" data-bind="visible: Longitude.visible">
                        <div class="form-group">
                            <label class="form-label" data-bind="text: Longitude.text"></label>
                            <input type="text" class="form-control" data-bind="class: Longitude.requiredClass, value: Longitude.val, valueUpdate: 'afterkeydown', attr: { maxlength: Longitude.maxlength, id : Longitude.id}" />
                        </div>
                    </div>

                    <div class="col-12 col-md-4" data-bind="visible: LocalidadePosicao.visible">
                        <div class="form-group">
                            <label class="form-label" data-bind="text: LocalidadePosicao.text, attr: { for: LocalidadePosicao.id }"></label>
                            <div class="input-group">
                                <input type="text" class="form-control" data-bind="value: LocalidadePosicao.val, valueUpdate: 'afterkeydown', attr: { maxlength: LocalidadePosicao.maxlength, id : LocalidadePosicao.id}" />
                                <div class="input-group-append">
                                    <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: LocalidadePosicao.idBtnSearch}" type="button" aria-label="Buscar">
                                        <i class="fal fa-search"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div id="mapaAdicionarPosicao" style="width:100%;height:300px;"></div>
                    </div>
                </div>
                <div class="d-flex justify-content-end pt-2">
                    <input type="button" data-bind="click: Cancelar.eventClick, attr: { value: Cancelar.text, id : Cancelar.id}" class="btn btn-default me-3">
                    <input type="button" data-bind="click: Confirmar.eventClick, attr: { value: Confirmar.text, id : Confirmar.id}" class="btn btn-success">
                </div>
            </div>
        </div>
    </div>
</div>

<div id="ModaisCarga"> </div>
<div id="ControleEntregaContent"></div>
<div id="ControleEntregaModal"></div>
<div id="containerModalMonitoramentoDetalhes"></div>
<div id="containerModalMonitoramentoHistorico"></div>

<script src="~/scripts/canvg"></script>
<script src="~/scripts/d3js"></script>
<script src="~/scripts/chartjs"></script>
<script src="~/scripts/monitoramento"></script>
<script src="~/scripts/cargaVeiculoContainer"></script>
<script src="~/scripts/carga"></script>
<script src="~/scripts/janelaCarregamento"></script>
<script src="~/scripts/dropzone"></script>
<script src="~/scripts/configuracaoComponentesFrete"></script>
<script src="~/scripts/configuracaoEmissaoCTe"></script>
<script src="~/scripts/controleEntregaDevolucao"></script>
<script src="~/scripts/controleEntrega"></script>
<script src="~/scripts/checkListComponent"></script>
<script src="~/scripts/tracking"></script>
<script src="~/scripts/monitoramentoDetalhes"></script>
<script src="~/scripts/monitoramentoHistorico"></script>

<link rel="stylesheet" href="~/css/controleEntrega" />
<link rel="stylesheet" href="~/css/tracking" />

<script type="text/javascript">
    pageSetUp();
    _PermissoesPersonalizadasCarga = @Html.Raw(ViewBag.PermissoesPersonalizadasCarga);
    _PermissoesPersonalizadasControleEntrega = @Html.Raw(ViewBag.PermissoesPersonalizadasControleEntrega);
    _PermissoesPersonalizadasMonitoramento = @Html.Raw(ViewBag.PermissoesPersonalizadasMonitoramento);

    if (!$("body").hasClass("menu-on-top"))
        $("body").addClass("minified");

    $(document).ready(function () {
        LoadLocalizationResources(["Cargas.Carga", "Cargas.ControleEntrega", "Logistica.Monitoramento", "Cargas.MonitoramentoHistorico"]).then(loadMonitoramento);
    });

</script>
