
<style>
    .btn-importar-nota-container .btn {
        height: 35px;
        padding: 0 22px;
        font: 300 15px/29px 'Open Sans', Helvetica, Arial, sans-serif;
        cursor: pointer;
        font-size: 13px;
    }
</style>

<section id="widget-grid">
    <ol class="breadcrumb page-breadcrumb">
        <li class="breadcrumb-item">Logística</li>
        <li class="breadcrumb-item">Configurações</li>
        <li class="breadcrumb-item active">Grupo de Motoristas</li>
    </ol>

    <div class="subheader">
        <h1 class="subheader-title">
            Grupo de Motoristas
        </h1>
        <div class="subheader-help">
            <button type="button" onclick="iniciarAjuda(960)" data-action="toggle" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Abrir a ajuda da página" aria-label="Abrir a ajuda da página"><i class="fal fa-question-circle"></i></button>
        </div>
    </div>

    <div id="knockoutPesquisaGrupoMotoristas">
        <div class="panel">
            <div class="panel-container">
                <div class="panel-content">
                    <button class="btn btn-default waves-effect waves-themed" data-bind="click: ExibirFiltros.eventClick, id: ExibirFiltros.id">
                        <i class="fal fa-filter"></i> <span>Pesquisar Grupos de Motorista</span>
                    </button>
                    <div class="mt-3" data-bind="id: ExibirFiltros.idFade, fadeVisible: ExibirFiltros.visibleFade">
                        <form>
                            <div class="row">

                                <div class="col-12 col-md-4" data-bind="visible: Descricao.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: Descricao.text, attr: { for: Descricao.id }"></label>
                                        <input type="text" class="form-control" data-bind="class: Descricao.requiredClass, value: Descricao.val, valueUpdate: 'afterkeydown', attr: { maxlength: Descricao.maxlength, id : Descricao.id}" />
                                    </div>
                                </div>

                                <div class="col-12 col-md-4" data-bind="visible: CodigoIntegracao.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: CodigoIntegracao.text, attr: { for: CodigoIntegracao.id }"></label>
                                        <input type="text" class="form-control" data-bind="class: CodigoIntegracao.requiredClass, value: CodigoIntegracao.val, valueUpdate: 'afterkeydown', attr: { maxlength: CodigoIntegracao.maxlength, id : CodigoIntegracao.id}" />
                                    </div>
                                </div>

                                <div class="col-12 col-md-2" data-bind="visible: Situacao.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: Situacao.text, attr: { for: Situacao.id }"></label>
                                        <select class="form-control" data-bind="class: Situacao.requiredClass, options: Situacao.options, optionsText: 'text', optionsValue: 'value', value: Situacao.val, attr: { maxlength: Situacao.maxlength, id : Situacao.id}"></select>
                                    </div>
                                </div>

                                <div class="col-12 col-md-2" data-bind="visible: Ativo.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: Ativo.text, attr: { for: Ativo.id }"></label>
                                        <select class="form-control" data-bind="class: Ativo.requiredClass, options: Ativo.options, optionsText: 'text', optionsValue: 'value', value: Ativo.val, attr: { maxlength: Ativo.maxlength, id : Ativo.id}"></select>
                                    </div>
                                </div>

                            </div>
                        </form>

                        <div class="d-flex align-items-center justify-content-end mb-2">
                            <button class="btn btn-primary waves-effect waves-themed btnPesquisarFiltroPesquisa ms-3" data-bind="click: Pesquisar.eventClick, attr: { id: Pesquisar.id}" type="button">
                                <i class="fal fa-search"></i><span data-bind="text: Pesquisar.text"></span>
                            </button>
                        </div>
                        <div class="widget-body">
                            <table width="100%" class="table table-bordered table-hover" data-bind="attr: { id: Pesquisar.idGrid }" cellspacing="0"></table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="wid-id-4" class="panel" data-widget-colorbutton="false" data-widget-deletebutton="false" data-widget-editbutton="false" data-widget-custombutton="false">
        <div class="panel-container" id="conteudoGrupoMotoristas">
            <div class="panel-hdr">
                <h3>
                    <i class="fal fa-edit"></i>
                    Novo Grupo de Motoristas
                </h3>
            </div>

            <div class="panel-content">
                <div class="tab-content">

                    <div id="knockoutEtapaGrupoMotoristas">
                        <ul class="nav nav-steps">
                            
                            <li data-target="#step1" data-bind="visible : EtapaCadastro.visible">
                                <button class="active" data-bs-target="#knockoutCadastroGrupoMotoristasEtapa" data-bs-toggle="tab" data-bind="attr: {id : EtapaCadastro.idTab }, click : EtapaCadastro.eventClick, visible : EtapaCadastro.visible">
                                    <span class="step">
                                        <i class="fal fa-file-alt"></i>
                                    </span>
                                    <span class="title" data-bind="text: EtapaCadastro.text"></span>
                                </button>
                            </li>

                            <li data-target="#step2" data-bind="visible : EtapaIntegracao.visible">
                                <button data-bs-target="#knockoutIntegracaoEtapa" data-bs-toggle="tab" data-bind="attr: {id : EtapaIntegracao.idTab }, click : EtapaIntegracao.eventClick">
                                    <span class="step">
                                        <i class="fal fa-check-circle"></i>
                                    </span>
                                    <span class="title" data-bind="text: EtapaIntegracao.text"></span>
                                </button>
                            </li>
                            
                        </ul>
                    </div>

                    <div id="myTabContentEtapa" class="tab-content">
                        <div class="tab-pane fade active show" id="knockoutCadastroGrupoMotoristasEtapa">

                            <ul class="nav nav-tabs">

                                <li class="nav-item active" id="tabDetalhes">
                                    <a href="#knockoutDetalhes" class="nav-link" data-bs-toggle="tab"><span><i class="fal fa-map-marker-alt"></i>Detalhes</span></a>
                                </li>
                                
                                <li class="nav-item" id="tabMotoristas">
                                    <a href="#knockoutMotoristas" class="nav-link" data-bs-toggle="tab"><span><i class="fal fa-map-marker-alt"></i>Motoristas</span></a>
                                </li>
                                
                                <li class="nav-item" id="tabIntegracao">
                                    <a href="#knockoutTipoIntegracao" class="nav-link" data-bs-toggle="tab"><span><i class="fal fa-users"></i>Integração</span></a>
                                </li>
                                
                            </ul>


                            <div class="tab-content border border-top-0 p-3" id="myTabContent">

                                <div class="tab-pane fade active show" id="knockoutDetalhes" role="tabpanel">
                                    <form novalidate>
                                        <div class="row">

                                            <div class="col-12 col-md-6" data-bind="fadeVisible: Descricao.visible, css: Descricao.cssClass">
                                                <div class="form-group">
                                                    <label class="form-label" data-bind="text: Descricao.text, attr: { for: Descricao.id }"></label>
                                                    <input type="text" class="form-control" data-bind="class: Descricao.requiredClass, value: Descricao.val, valueUpdate: 'afterkeydown', attr: { maxlength: Descricao.maxlength, id : Descricao.id}" />
                                                </div>
                                            </div>

                                            <div class="col-12 col-md-6" data-bind="fadeVisible: CodigoIntegracao.visible, css: CodigoIntegracao.cssClass">
                                                <div class="form-group">
                                                    <label class="form-label" data-bind="text: CodigoIntegracao.text"></label>
                                                    <input type="text" class="form-control" data-bind="class: CodigoIntegracao.requiredClass, value: CodigoIntegracao.val, enable: CodigoIntegracao.enable, valueUpdate: 'afterkeydown', attr: { maxlength: CodigoIntegracao.maxlength, id : CodigoIntegracao.id }" />
                                                </div>
                                            </div>

                                            <div class="col-12 col-md-4" data-bind="fadeVisible: Ativo.visible">
                                                <div class="form-group">
                                                    <label class="form-label" data-bind="text: Ativo.text, attr: { for: Ativo.id }"></label>
                                                    <select class="form-control" data-bind="class: Ativo.requiredClass, options: Ativo.options, optionsText: 'text', optionsValue: 'value', value: Ativo.val, attr: { maxlength: Ativo.maxlength, id : Ativo.id}"></select>
                                                </div>
                                            </div>

                                            <div class="col-12 col-md-12" data-bind="visible: Observacao.visible">
                                                <div class="form-group">
                                                    <label class="form-label" data-bind="text: Observacao.text, attr: { for: Observacao.id }"></label>
                                                    <textarea class="form-control" rows="4" data-bind="enable: Observacao.enable,value: Observacao.val, valueUpdate: 'afterkeydown', attr: { maxlenglabel: Observacao.maxlenglabel, id : Observacao.id }"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        </form>
                                </div>
                                
                                <div class="tab-pane fade" id="knockoutMotoristas">
                                    <div class="row">
                                        <div class="col-12 mb-2 mt-2">
                                            <button class="btn btn-primary" type="button" data-bind="attr: { id: Funcionario.idBtnSearch}, visible: Funcionario.visible">
                                                <i class="fal fa-plus"></i><span data-bind="text: Funcionario.text"></span>
                                            </button>
                                        </div>
                                        <table width="100%" class="table table-bordered table-hover" data-bind="attr: {id: Grid.id}" cellspacing="0"></table>
                                    </div>
                                </div>
                                
                                <div class="tab-pane fade" id="knockoutTipoIntegracao">
                                    <div class="row">

                                        <div class="col-12 col-md-12" data-bind="visible: TipoIntegracao.visible">
                                            <div class="form-group">
                                                <label class="form-label" data-bind="text: TipoIntegracao.text, attr: { for: TipoIntegracao.id }"></label>
                                                <select class="form-control" data-bind="class: TipoIntegracao.requiredClass, options: TipoIntegracao.options, optionsText: 'text', optionsValue: 'value', value: TipoIntegracao.val, attr: { id : TipoIntegracao.id }"></select>
                                            </div>
                                        </div>

                                        <div class="d-flex justify-content-end mt-3">
                                            <button type="button" class="btn btn-primary" data-bind="click: Adicionar.eventClick, visible: Adicionar.visible, attr: { id : Adicionar.id }">
                                                <i class="fal fa-plus"></i><span data-bind="text: Adicionar.text"></span>
                                            </button>
                                        </div>

                                        <div class="col-12 col-md-12 mt-3">
                                            <table class="table table-bordered table-hover" data-bind="attr: { id: Grid.id }" cellspacing="0"></table>
                                        </div>

                                    </div>
                                </div>
                                

                                <footer id="knockoutCRUDGrupoMotoristas" class="d-flex justify-content-end mt-4">
                                    
                                    <button type="button" class="btn btn-success waves-effect waves-themed ms-2" data-bind="enable: Atualizar.enable, click: Atualizar.eventClick, visible: Atualizar.visible, attr: { value: Atualizar.text, id : Atualizar.id}">
                                        <i class="fal fa-check"></i><span data-bind="text: Atualizar.text"></span>
                                    </button>

                                    <button type="button" class="btn btn-success waves-effect waves-themed ms-2" data-loading-text="Aguarde..." data-bind="enable: Adicionar.enable, click: Adicionar.eventClick, visible: Adicionar.visible, attr: { value: Adicionar.text, id : Adicionar.id}">
                                        <i class="fal fa-plus"></i><span data-bind="text: Adicionar.text"></span>
                                    </button>

                                    <button type="button" class="btn btn-info waves-effect waves-themed ms-2" data-bind="enable: Excluir.enable, click: Excluir.eventClick, visible: Excluir.visible, attr: { value: Excluir.text, id : Excluir.id}">
                                        <i class="fal fa-trash"></i><span data-bind="text: Excluir.text"></span>
                                    </button>
                                    
                                    <button type="button" class="btn btn-default waves-effect waves-themed ms-2" data-bind="enable: Cancelar.enable, click: Cancelar.eventClick, visible: Cancelar.visible, attr: { value: Cancelar.text, id : Cancelar.id}">
                                        <i class="fal fa-ban"></i><span data-bind="text: Cancelar.text"></span>
                                    </button>
                                    
                                </footer>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="knockoutIntegracaoEtapa">
                            <h3>
                                Integrações
                            </h3>
                            <div>
                                <div id="#divIntegracaoGrupoMotoristas">
                                    <div class="tab-pane fade show active " id="tabIntegracaoGrupoMotoristas">
                                        <div class="row">
                                            <div class="col-12 col-md-8">
                                                <div class="d-flex">
                                                    <div class="col-12 col-md-6" data-bind="visible: TipoConsultaGrupoMotoristas.visible">
                                                        <div class="form-group">
                                                            <label class="form-label" data-bind="text: TipoConsultaGrupoMotoristas.text, attr: { for: TipoConsultaGrupoMotoristas.id }"></label>
                                                            <select class="form-control" data-bind="class: TipoConsultaGrupoMotoristas.requiredClass, options: TipoConsultaGrupoMotoristas.options, optionsText: 'text', optionsValue: 'value', value: TipoConsultaGrupoMotoristas.val, attr: { maxlenglabel: TipoConsultaGrupoMotoristas.maxlenglabel, id : TipoConsultaGrupoMotoristas.id}"></select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="d-flex justify-content-end mb-2">
                                                <button class="btn btn-primary" type="button" data-bind="click: Pesquisar.eventClick, attr: { id: Pesquisar.id}">
                                                    <i class="fal fa-search"></i><span data-bind="text: Pesquisar.text"></span>
                                                </button>
                                                <button data-bind="click: ReenviarTodos.eventClick, attr: { id: ReenviarTodos.id}, visible: ReenviarTodos.visible" class="btn btn-default input-margin-top-24-lg input-margin-top-24-md pull-right ms-2" style="padding: 6px 12px !important;" type="button">
                                                    <i class="fa fa-mail-forward"></i>&nbsp;<span data-bind="text: ReenviarTodos.text"></span>
                                                </button>
                                            </div>
                                        </div>

                                        <table width="100%" class="table table-bordered table-hover" data-bind="attr: { id: Pesquisar.idGrid }" cellspacing="0"></table>
                                        
                                        <div class="row">
                                            <div class="col col-6">
                                                <div class="row">
                                                    <div class="legends">
                                                        <div class="badge legend green">
                                                            <b data-bind="text: TotalIntegrado.text"></b>
                                                            <span data-bind="text: TotalIntegrado.val()"></span>
                                                        </div>
                                                        <div class="badge legend red">
                                                            <b data-bind="text: TotalProblemaIntegracao.text"></b>
                                                            <span data-bind="text: TotalProblemaIntegracao.val()"></span>
                                                        </div>
                                                        <div class="badge legend blue">
                                                            <b data-bind="text: TotalAguardandoIntegracao.text"></b>
                                                            <span data-bind="text: TotalAguardandoIntegracao.val()"></span>
                                                        </div>
                                                        <div class="badge legend gray">
                                                            <b data-bind="text: TotalGeral.text"></b>
                                                            <span data-bind="text: TotalGeral.val()"></span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="modal fade" id="divModalHistoricoIntegracao" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content">
            <div class="modal-header" id="knockoutHistoricoGrupoMotoristas">
                <h4 class="modal-title">Histórico de Integração</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <table width="100%" class="table table-bordered table-hover" cellspacing="0" id="tblHistoricoIntegracaoLote"></table>
            </div>
        </div>
    </div>
</div>


<script src="~/scripts/grupoMotoristas"></script>
<script src="~/scripts/summernote"></script>

<script type="text/javascript">

    pageSetUp();

    _CONFIGURACAO_TMS = $.extend({}, _CONFIGURACAO_TMS, @Html.Raw(ViewBag.Configuracoes));

    $(document).ready(function () {
        LoadGrupoMotoristas();
    });

</script>

