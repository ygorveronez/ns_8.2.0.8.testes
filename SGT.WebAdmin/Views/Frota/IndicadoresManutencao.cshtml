
<section>
    <ol class="breadcrumb page-breadcrumb">
        <li class="breadcrumb-item">Frota</li>
        <li class="breadcrumb-item active">Indicadores Manutenção</li>
    </ol>
    <div class="subheader">
        <h1 class="subheader-title">
            <i></i> Indicadores de Manutenção
        </h1>
    </div>
    <div id="knockoutPesquisaIndicadoresManutencao">
        <div class="panel">
            <div class="panel-container">
                <div class="panel-content">
                    <button class="btn btn-primary waves-effect waves-themed" data-bind="click: ExibirFiltros.eventClick, id: ExibirFiltros.id">
                        <i class="fal fa-search"></i>
                        Pesquisar Indicadores de Manutenção
                    </button>
                    <div class="mt-3" data-bind="id: ExibirFiltros.idFade, fadeVisible: ExibirFiltros.visibleFade">
                        <form>
                            <div class="row">
                                <div class="col-12 col-md-2" data-bind="visible: NumeroInicial.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: NumeroInicial.text, attr: { for: NumeroInicial.id }"></label>
                                        <input type="text" class="form-control" data-bind="class: NumeroInicial.requiredClass, value: NumeroInicial.val, valueUpdate: 'afterkeydown', attr: { maxlength: NumeroInicial.maxlength, id : NumeroInicial.id}" />
                                    </div>
                                </div>
                                <div class="col-12 col-md-2" data-bind="visible: NumeroFinal.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: NumeroFinal.text, attr: { for: NumeroFinal.id }"></label>
                                        <input type="text" class="form-control" data-bind="class: NumeroFinal.requiredClass, value: NumeroFinal.val, valueUpdate: 'afterkeydown', attr: { maxlength: NumeroFinal.maxlength, id : NumeroFinal.id}" />
                                    </div>
                                </div>
                                <div class="col-12 col-md-2" data-bind="visible: DataInicial.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: DataInicial.text, attr: { for: DataInicial.id }"></label>
                                        <input type="text" class="form-control" data-bind="class: DataInicial.requiredClass, value: DataInicial.val, valueUpdate: 'afterkeydown', attr: { maxlength: DataInicial.maxlength, id : DataInicial.id}" />
                                    </div>
                                </div>
                                <div class="col-12 col-md-2" data-bind="visible: DataFinal.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: DataFinal.text, attr: { for: DataFinal.id }"></label>
                                        <input type="text" class="form-control" data-bind="class: DataFinal.requiredClass, value: DataFinal.val, valueUpdate: 'afterkeydown', attr: { maxlength: DataFinal.maxlength, id : DataFinal.id}" />
                                    </div>
                                </div>
                                <div class="col-12 col-md-4" data-bind="visible: Situacao.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: Situacao.text, attr: { for: Situacao.id }"></label>
                                        <select class="form-control" data-bind="class: Situacao.requiredClass, options: Situacao.options, optionsText: 'text', optionsValue: 'value', selectedOptions: Situacao.val, attr: { maxlength: Situacao.maxlength, id : Situacao.id}"></select>
                                    </div>
                                </div>
                                <div class="col-12 col-md-2" data-bind="visible: TipoManutencao.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: TipoManutencao.text, attr: { for: TipoManutencao.id }"></label>
                                        <select class="form-control" data-bind="class: TipoManutencao.requiredClass, options: TipoManutencao.options, optionsText: 'text', optionsValue: 'value', value: TipoManutencao.val, attr: { maxlength: TipoManutencao.maxlength, id : TipoManutencao.id}"></select>
                                    </div>
                                </div>
                                <div class="col-12 col-md-2" data-bind="visible: TipoOrdemServico.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: TipoOrdemServico.text, attr: { for: TipoOrdemServico.id }"></label>
                                        <select class="form-control" data-bind="class: TipoOrdemServico.requiredClass, options: TipoOrdemServico.options, optionsText: 'text', optionsValue: 'value', value: TipoOrdemServico.val, attr: { maxlength: TipoOrdemServico.maxlength, id : TipoOrdemServico.id}"></select>
                                    </div>
                                </div>
                                <div class="col-12 col-md-4" data-bind="visible: Veiculo.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: Veiculo.text, attr: { for: Veiculo.id }"></label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" data-bind="css: Veiculo.requiredClass, value: Veiculo.val, valueUpdate: 'afterkeydown', attr: { maxlength: Veiculo.maxlength, id : Veiculo.id}" />
                                            <div class="input-group-append">
                                                <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: Veiculo.idBtnSearch}" type="button" aria-label="Buscar">
                                                    <i class="fal fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-md-4" data-bind="visible: Motorista.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: Motorista.text, attr: { for: Motorista.id }"></label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" data-bind="css: Motorista.requiredClass, value: Motorista.val, valueUpdate: 'afterkeydown', attr: { maxlength: Motorista.maxlength, id : Motorista.id}" />
                                            <div class="input-group-append">
                                                <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: Motorista.idBtnSearch}" type="button" aria-label="Buscar">
                                                    <i class="fal fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-md-4" data-bind="visible: Equipamento.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: Equipamento.text, attr: { for: Equipamento.id }"></label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" data-bind="css: Equipamento.requiredClass, value: Equipamento.val, valueUpdate: 'afterkeydown', attr: { maxlength: Equipamento.maxlength, id : Equipamento.id}" />
                                            <div class="input-group-append">
                                                <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: Equipamento.idBtnSearch}" type="button" aria-label="Buscar">
                                                    <i class="fal fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-md-4" data-bind="visible: LocalManutencao.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: LocalManutencao.text, attr: { for: LocalManutencao.id }"></label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" data-bind="css: LocalManutencao.requiredClass, value: LocalManutencao.val, valueUpdate: 'afterkeydown', attr: { maxlength: LocalManutencao.maxlength, id : LocalManutencao.id}" />
                                            <div class="input-group-append">
                                                <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: LocalManutencao.idBtnSearch}" type="button" aria-label="Buscar">
                                                    <i class="fal fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-md-4" data-bind="visible: Servico.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: Servico.text, attr: { for: Servico.id }"></label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" data-bind="css: Servico.requiredClass, value: Servico.val, valueUpdate: 'afterkeydown', attr: { maxlength: Servico.maxlength, id : Servico.id}" />
                                            <div class="input-group-append">
                                                <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: Servico.idBtnSearch}" type="button" aria-label="Buscar">
                                                    <i class="fal fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div data-bind="id: BuscaAvancada.idFade, fadeVisible: BuscaAvancada.visibleFade" class="row">
                                <div class="col-12 col-md-4" data-bind="visible: GrupoServico.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: GrupoServico.text, attr: { for: GrupoServico.id }"></label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" data-bind="css: GrupoServico.requiredClass, value: GrupoServico.val, valueUpdate: 'afterkeydown', attr: { maxlength: GrupoServico.maxlength, id : GrupoServico.id}" />
                                            <div class="input-group-append">
                                                <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: GrupoServico.idBtnSearch}" type="button" aria-label="Buscar">
                                                    <i class="fal fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-md-4" data-bind="visible: CentroResultado.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: CentroResultado.text, attr: { for: CentroResultado.id }"></label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" data-bind="css: CentroResultado.requiredClass, value: CentroResultado.val, valueUpdate: 'afterkeydown', attr: { maxlength: CentroResultado.maxlength, id : CentroResultado.id}" />
                                            <div class="input-group-append">
                                                <button class="btn btn-primary waves-effect waves-themed" data-bind="attr: { id: CentroResultado.idBtnSearch}" type="button" aria-label="Buscar">
                                                    <i class="fal fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-md-2" data-bind="visible: Prioridade.visible">
                                    <div class="form-group">
                                        <label class="form-label" data-bind="text: Prioridade.text, attr: { for: Prioridade.id }"></label>
                                        <select class="form-control" data-bind="class: Prioridade.requiredClass, options: Prioridade.options, optionsText: 'text', optionsValue: 'value', value: Prioridade.val, attr: { maxlength: Prioridade.maxlength, id : Prioridade.id}"></select>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="d-flex align-items-center justify-content-end">
                        <div class="col-12 col-md-3" data-bind="visible: HabilitarPainel.visible">
                            <div class="form-group">
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input" data-bind="checked: HabilitarPainel.val, valueUpdate: 'afterkeydown', attr: { name: HabilitarPainel.id, id : HabilitarPainel.id}, event: {change: HabilitarPainel.eventChange}">
                                    <label class="custom-control-label" style="margin-top: 27px;" data-bind="text: HabilitarPainel.text, attr: { for: HabilitarPainel.id }"></label>
                                </div>
                            </div>
                        </div>
                        <button class="btn btn-primary waves-effect waves-themed btnPesquisarFiltroPesquisa" data-bind="click: Pesquisar.eventClick, attr: { id: Pesquisar.id}" type="button">
                            <i class="fal fa-search"></i><span data-bind="text: Pesquisar.text"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="panelKnockoutIndicadoresManutencao">
        <div class="panel">
            <div class="panel-container">
                <div class="panel-hdr">
                    <h3>
                        <i class="fal fa-edit"></i>
                        Ordens de Serviço
                    </h3>
                </div>
                <div class="panel-content">
                    <div id="container" class="d-none">
                        <div class="grid-container">
                            <div class="border border-secondary">
                                <div style=" border-bottom: solid 1px; display: flex; justify-content: center;">
                                    <span>Interna em aberto </span>
                                </div>
                                <div id="knockoutIndicadoresManutencaoInternaEmAberto" style="height: 100%">

                                </div>
                            </div>

                            <div class="border border-secondary">
                                <div style=" border-bottom: solid 1px; display: flex; justify-content: center;">
                                    <span>Interna Finalizada </span>
                                </div>
                                <div id="knockoutIndicadoresManutencaoInternaFinalizada" style="height: 100%">

                                </div>
                            </div>

                            <div class="border border-secondary">
                                <div style=" border-bottom: solid 1px; display: flex; justify-content: center;">
                                    <span>Externa Em aberto </span>
                                </div>
                                <div id="knockoutIndicadoresManutencaoExternaEmAberto" style="height: 100%">

                                </div>
                            </div>

                            <div class="border border-secondary">
                                <div style=" border-bottom: solid 1px; display: flex; justify-content: center;">
                                    <span>Externa finalizada </span>
                                </div>
                                <div id="knockoutIndicadoresManutencaoExternaFinalizada" style="height: 100%">

                                </div>
                            </div>
                            <div class="border border-secondary">
                                <div style=" border-bottom: solid 1px; display: flex; justify-content: center;">
                                    <span>Sem classificação </span>
                                </div>
                                <div id="knockoutIndicadoresManutencao" style="height: 100%">

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
    </div>

</section>



<div class="modal fade" id="divModalOrdemServico" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h3>
                    <i class="fal fa-edit"></i>
                    Ordem de Serviço
                </h3>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true">
                    <i class="fal fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div id="ModaisOrdemServico"></div>
            </div>
        </div>
    </div>
</div>

<style>
    .grid-container {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 10px;
    }
    span {
        font-size: 14px;
        font-weight: 500;
    }

    .fullscreen-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        overflow-y: auto;
    }
</style>

<script src="~/scripts/indicadoresManutencao"></script>
<script src="~/scripts/ordemServico"></script>
<script type="text/javascript">

    pageSetUp();

    $(document).ready(function () {
        loadIndicadoresManutencao();
    });

</script>