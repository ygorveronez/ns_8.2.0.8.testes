(function(n){n.addFlex=function(t,r){var u,e,o,v,h,s,c,g,f,nt,w,tt,b,a,k,l,y,d,p;if(t.grid)return!1;if(r=n.extend({height:200,width:"auto",striped:!0,novstripe:!1,minwidth:30,minheight:80,resizable:!0,url:!1,method:"POST",dataType:"xml",errormsg:"Connection Error",usepager:!1,nowrap:!0,page:1,total:1,useRp:!0,rp:15,rpOptions:[10,15,20,25,40],title:!1,pagestat:"Displaying {from} to {to} of {total} items",procmsg:"Processing, please wait ...",query:"",qtype:"",nomsg:"No items",minColToggle:1,showToggleBtn:!0,hideOnSubmit:!0,autoload:!0,blockOpacity:.5,onToggleCol:!1,onChangeSort:!1,onSuccess:!1,onSubmit:!1},r),n(t).show().attr({cellPadding:0,cellSpacing:0,border:0}).removeAttr("width"),u={hset:{},rePosDrag:function(){var t=0-this.hDiv.scrollLeft,i;this.hDiv.scrollLeft>0&&(t-=Math.floor(r.cgwidth/2)),n(u.cDrag).css({top:u.hDiv.offsetTop+1}),i=this.cdpad,n("div",u.cDrag).hide(),n("thead tr:first th:visible",this.hDiv).each(function(){var e=n("thead tr:first th:visible",u.hDiv).index(this),f=parseInt(n("div",this).width()),o=f;t==0&&(t-=Math.floor(r.cgwidth/2)),f=f+t+i,n("div:eq("+e+")",u.cDrag).css({left:f+"px"}).show(),t=f})},fixHeight:function(t){var f,e,i;t=!1,t||(t=n(u.bDiv).height()),f=n(this.hDiv).height(),n("div",this.cDrag).each(function(){n(this).height(t+f)}),e=parseInt(n(u.nDiv).height()),e>t?n(u.nDiv).height(t).width(200):n(u.nDiv).height("auto").width("auto"),n(u.block).css({height:t,marginBottom:t*-1}),i=u.bDiv.offsetTop+t,r.height!="auto"&&r.resizable&&(i=u.vDiv.offsetTop),n(u.rDiv).css({height:i})},dragStart:function(t,i,f){var e,s,o;t=="colresize"?(n(u.nDiv).hide(),n(u.nBtn).hide(),e=n("div",this.cDrag).index(f),s=n("th:visible div:eq("+e+")",this.hDiv).width(),n(f).addClass("dragging").siblings().hide(),n(f).prev().addClass("dragging").show(),this.colresize={startX:i.pageX,ol:parseInt(f.style.left),ow:s,n:e},n("body").css("cursor","col-resize")):t=="vresize"?(o=!1,n("body").css("cursor","row-resize"),f&&(o=!0,n("body").css("cursor","col-resize")),this.vresize={h:r.height,sy:i.pageY,w:r.width,sx:i.pageX,hgo:o}):t=="colMove"&&(n(u.nDiv).hide(),n(u.nBtn).hide(),this.hset=n(this.hDiv).offset(),this.hset.right=this.hset.left+n("table",this.hDiv).width(),this.hset.bottom=this.hset.top+n("table",this.hDiv).height(),this.dcol=f,this.dcoln=n("th",this.hDiv).index(f),this.colCopy=document.createElement("div"),this.colCopy.className="colCopy",this.colCopy.innerHTML=f.innerHTML,n.browser.msie&&(this.colCopy.className="colCopy ie"),n(this.colCopy).css({position:"absolute",float:"left",display:"none",textAlign:f.align}),n("body").append(this.colCopy),n(this.cDrag).hide()),n("body").noSelect()},dragMove:function(t){var u;if(this.colresize){var s=this.colresize.n,f=t.pageX-this.colresize.startX,h=this.colresize.ol+f,o=this.colresize.ow+f;o>r.minwidth&&(n("div:eq("+s+")",this.cDrag).css("left",h),this.colresize.nw=o)}else if(this.vresize){var i=this.vresize,c=t.pageY,f=c-i.sy;if(r.defwidth||(r.defwidth=r.width),r.width!="auto"&&!r.nohresize&&i.hgo){var l=t.pageX,a=l-i.sx,e=i.w+a;e>r.defwidth&&(this.gDiv.style.width=e+"px",r.width=e)}u=i.h+f,(u>r.minheight||r.height<r.minheight)&&!i.hgo&&(this.bDiv.style.height=u+"px",r.height=u,this.fixHeight(u)),i=null}else this.colCopy&&(n(this.dcol).addClass("thMove").removeClass("thOver"),t.pageX>this.hset.right||t.pageX<this.hset.left||t.pageY>this.hset.bottom||t.pageY<this.hset.top?n("body").css("cursor","move"):n("body").css("cursor","pointer"),n(this.colCopy).css({top:t.pageY+10,left:t.pageX+20,display:"block"}))},dragEnd:function(){if(this.colresize){var t=this.colresize.n,i=this.colresize.nw;n("th:visible div:eq("+t+")",this.hDiv).css("width",i),n("tr",this.bDiv).each(function(){n("td:visible div:eq("+t+")",this).css("width",i)}),this.hDiv.scrollLeft=this.bDiv.scrollLeft,n("div:eq("+t+")",this.cDrag).siblings().show(),n(".dragging",this.cDrag).removeClass("dragging"),this.rePosDrag(),this.fixHeight(),this.colresize=!1}else this.vresize?this.vresize=!1:this.colCopy&&(n(this.colCopy).remove(),this.dcolt!=null&&(this.dcoln>this.dcolt?n("th:eq("+this.dcolt+")",this.hDiv).before(this.dcol):n("th:eq("+this.dcolt+")",this.hDiv).after(this.dcol),this.switchCol(this.dcoln,this.dcolt),n(this.cdropleft).remove(),n(this.cdropright).remove(),this.rePosDrag()),this.dcol=null,this.hset=null,this.dcoln=null,this.dcolt=null,this.colCopy=null,n(".thMove",this.hDiv).removeClass("thMove"),n(this.cDrag).show());n("body").css("cursor","default"),n("body").noSelect(!1)},toggleCol:function(i,f){var e=n("th[axis='col"+i+"']",this.hDiv)[0],o=n("thead th",u.hDiv).index(e),s=n("input[value="+i+"]",u.nDiv)[0];if(f==null&&(f=e.hide),n("input:checked",u.nDiv).length<r.minColToggle&&!f)return!1;if(f?(e.hide=!1,n(e).show(),s.checked=!0):(e.hide=!0,n(e).hide(),s.checked=!1),n("tbody tr",t).each(function(){f?n("td:eq("+o+")",this).show():n("td:eq("+o+")",this).hide()}),this.rePosDrag(),r.onToggleCol)r.onToggleCol(i,f);return f},switchCol:function(i,r){n("tbody tr",t).each(function(){i>r?n("td:eq("+r+")",this).before(n("td:eq("+i+")",this)):n("td:eq("+r+")",this).after(n("td:eq("+i+")",this))}),i>r?n("tr:eq("+r+")",this.nDiv).before(n("tr:eq("+i+")",this.nDiv)):n("tr:eq("+r+")",this.nDiv).after(n("tr:eq("+i+")",this.nDiv)),n.browser.msie&&n.browser.version<7&&(n("tr:eq("+r+") input",this.nDiv)[0].checked=!0),this.hDiv.scrollLeft=this.bDiv.scrollLeft},scroll:function(){this.hDiv.scrollLeft=this.bDiv.scrollLeft,this.rePosDrag()},addData:function(f){if(r.preProcess&&(f=r.preProcess(f)),n(".pReload",this.pDiv).removeClass("loading"),this.loading=!1,!f)return n(".pPageStat",this.pDiv).html(r.errormsg),!1;if(r.total=r.dataType=="xml"?+n("rows total",f).text():f.total,r.total==0)return n("tr, a, td, div",t).unbind(),n(t).empty(),r.pages=1,r.page=1,this.buildpager(),n(".pPageStat",this.pDiv).html(r.nomsg),!1;r.pages=Math.ceil(r.total/r.rp),r.page=r.dataType=="xml"?+n("rows page",f).text():f.page,this.buildpager();var e=document.createElement("tbody");r.dataType=="json"?n.each(f.rows,function(t,i){var f=document.createElement("tr"),o;if(t%2&&r.striped&&(f.className="erow"),i.id&&(f.id="row"+i.id),n("thead tr:first th",u.hDiv).each(function(){var t=document.createElement("td"),r=n(this).attr("axis").substr(3);t.align=this.align,t.innerHTML=i.cell[r],n(f).append(t),t=null}),n("thead",this.gDiv).length<1)for(idx=0;idx<cell.length;idx++)o=document.createElement("td"),o.innerHTML=i.cell[idx],n(f).append(o),o=null;n(e).append(f),f=null}):r.dataType=="xml"&&(i=1,n("rows row",f).each(function(){var t,f,o;i++,t=document.createElement("tr"),i%2&&r.striped&&(t.className="erow"),f=n(this).attr("id"),f&&(t.id="row"+f),f=null,o=this,n("thead tr:first th",u.hDiv).each(function(){var i=document.createElement("td"),r=n(this).attr("axis").substr(3);i.align=this.align,i.innerHTML=n("cell:eq("+r+")",o).text(),n(t).append(i),i=null}),n("thead",this.gDiv).length<1&&n("cell",this).each(function(){var i=document.createElement("td");i.innerHTML=n(this).text(),n(t).append(i),i=null}),n(e).append(t),t=null,o=null})),n("tr",t).unbind(),n(t).empty(),n(t).append(e),this.addCellProp(),this.addRowProp(),this.rePosDrag(),e=null,f=null,i=null,r.onSuccess&&r.onSuccess(),r.hideOnSubmit&&n(u.block).remove(),this.hDiv.scrollLeft=this.bDiv.scrollLeft,n.browser.opera&&n(t).css("visibility","visible")},changeSort:function(t){if(this.loading)return!0;if(n(u.nDiv).hide(),n(u.nBtn).hide(),r.sortname==n(t).attr("abbr")&&(r.sortorder=r.sortorder=="asc"?"desc":"asc"),n(t).addClass("sorted").siblings().removeClass("sorted"),n(".sdesc",this.hDiv).removeClass("sdesc"),n(".sasc",this.hDiv).removeClass("sasc"),n("div",t).addClass("s"+r.sortorder),r.sortname=n(t).attr("abbr"),r.onChangeSort)r.onChangeSort(r.sortname,r.sortorder);else this.populate()},buildpager:function(){var u,i,t;n(".pcontrol input",this.pDiv).val(r.page),n(".pcontrol span",this.pDiv).html(r.pages),u=(r.page-1)*r.rp+1,i=u+r.rp-1,r.total<i&&(i=r.total),t=r.pagestat,t=t.replace(/{from}/,u),t=t.replace(/{to}/,i),t=t.replace(/{total}/,r.total),n(".pPageStat",this.pDiv).html(t)},populate:function(){var e,i,f;if(this.loading)return!0;if(r.onSubmit&&(e=r.onSubmit(),!e)||(this.loading=!0,!r.url))return!1;if(n(".pPageStat",this.pDiv).html(r.procmsg),n(".pReload",this.pDiv).addClass("loading"),n(u.block).css({top:u.bDiv.offsetTop}),r.hideOnSubmit&&n(this.gDiv).prepend(u.block),n.browser.opera&&n(t).css("visibility","hidden"),r.newp||(r.newp=1),r.page>r.pages&&(r.page=r.pages),i=[{name:"page",value:r.newp},{name:"rp",value:r.rp},{name:"sortname",value:r.sortname},{name:"sortorder",value:r.sortorder},{name:"query",value:r.query},{name:"qtype",value:r.qtype}],r.params)for(f=0;f<r.params.length;f++)i[i.length]=r.params[f];n.ajax({type:r.method,url:r.url,data:i,dataType:r.dataType,success:function(n){u.addData(n)},error:function(n){try{if(r.onError)r.onError(n)}catch(t){}}})},doSearch:function(){r.query=n("input[name=q]",u.sDiv).val(),r.qtype=n("select[name=qtype]",u.sDiv).val(),r.newp=1,this.populate()},changePage:function(t){if(this.loading)return!0;switch(t){case"first":r.newp=1;break;case"prev":r.page>1&&(r.newp=parseInt(r.page)-1);break;case"next":r.page<r.pages&&(r.newp=parseInt(r.page)+1);break;case"last":r.newp=r.pages;break;case"input":var i=parseInt(n(".pcontrol input",this.pDiv).val());isNaN(i)&&(i=1),i<1?i=1:i>r.pages&&(i=r.pages),n(".pcontrol input",this.pDiv).val(i),r.newp=i}if(r.newp==r.page)return!1;if(r.onChangePage)r.onChangePage(r.newp);else this.populate()},addCellProp:function(){n("tbody tr td",u.bDiv).each(function(){var i=document.createElement("div"),o=n("td",n(this).parent()).index(this),t=n("th:eq("+o+")",u.hDiv).get(0),f,e;t!=null&&(r.sortname==n(t).attr("abbr")&&r.sortname&&(this.className="sorted"),n(i).css({textAlign:t.align,width:n("div:first",t)[0].style.width}),t.hide&&n(this).css("display","none")),r.nowrap==!1&&n(i).css("white-space","normal"),this.innerHTML==""&&(this.innerHTML="&nbsp;"),i.innerHTML=this.innerHTML,f=n(this).parent()[0],e=!1,f.id&&(e=f.id.substr(3)),t!=null&&t.process&&t.process(i,e),n(this).empty().append(i).removeAttr("width")})},getCellDim:function(t){var i=parseInt(n(t).height()),r=parseInt(n(t).parent().height()),u=parseInt(t.style.width),f=parseInt(n(t).parent().width()),e=t.offsetParent.offsetTop,o=t.offsetParent.offsetLeft,s=parseInt(n(t).css("paddingLeft")),h=parseInt(n(t).css("paddingTop"));return{ht:i,wt:u,top:e,left:o,pdl:s,pdt:h,pht:r,pwt:f}},addRowProp:function(){n("tbody tr",u.bDiv).each(function(){n(this).click(function(t){var i=t.target||t.srcElement;if(i.href||i.type)return!0;n(this).toggleClass("trSelected"),r.singleSelect&&n(this).siblings().removeClass("trSelected")}).mousedown(function(t){t.shiftKey&&(n(this).toggleClass("trSelected"),u.multisel=!0,this.focus(),n(u.gDiv).noSelect())}).mouseup(function(){u.multisel&&(u.multisel=!1,n(u.gDiv).noSelect(!1))}).hover(function(){u.multisel&&n(this).toggleClass("trSelected")},function(){}),n.browser.msie&&n.browser.version<7&&n(this).hover(function(){n(this).addClass("trOver")},function(){n(this).removeClass("trOver")})})},pager:0},r.colModel){for(c=document.createElement("thead"),tr=document.createElement("tr"),i=0;i<r.colModel.length;i++)e=r.colModel[i],o=document.createElement("th"),o.innerHTML=e.display,e.name&&e.sortable&&n(o).attr("abbr",e.name),n(o).attr("axis","col"+i),e.align&&(o.align=e.align),e.width&&n(o).attr("width",e.width),e.hide&&(o.hide=!0),e.process&&(o.process=e.process),n(tr).append(o);n(c).append(tr),n(t).prepend(c)}if(u.gDiv=document.createElement("div"),u.mDiv=document.createElement("div"),u.hDiv=document.createElement("div"),u.bDiv=document.createElement("div"),u.vDiv=document.createElement("div"),u.rDiv=document.createElement("div"),u.cDrag=document.createElement("div"),u.block=document.createElement("div"),u.nDiv=document.createElement("div"),u.nBtn=document.createElement("div"),u.iDiv=document.createElement("div"),u.tDiv=document.createElement("div"),u.sDiv=document.createElement("div"),r.usepager&&(u.pDiv=document.createElement("div")),u.hTable=document.createElement("table"),u.gDiv.className="flexigrid",r.width!="auto"&&(u.gDiv.style.width=r.width+"px"),n.browser.msie&&n(u.gDiv).addClass("ie"),r.novstripe&&n(u.gDiv).addClass("novstripe"),n(t).before(u.gDiv),n(u.gDiv).append(t),r.buttons){for(u.tDiv.className="tDiv",v=document.createElement("div"),v.className="tDiv2",i=0;i<r.buttons.length;i++)h=r.buttons[i],h.separator?n(v).append("<div class='btnseparator'><\/div>"):(s=document.createElement("div"),s.className="fbutton",s.innerHTML="<div><span>"+h.name+"<\/span><\/div>",h.bclass&&n("span",s).addClass(h.bclass).css({paddingLeft:20}),s.onpress=h.onpress,s.name=h.name,h.onpress&&n(s).click(function(){this.onpress(this.name,u.gDiv)}),n(v).append(s),n.browser.msie&&n.browser.version<7&&n(s).hover(function(){n(this).addClass("fbOver")},function(){n(this).removeClass("fbOver")}));n(u.tDiv).append(v),n(u.tDiv).append("<div style='clear:both'><\/div>"),n(u.gDiv).prepend(u.tDiv)}if(u.hDiv.className="hDiv",n(t).before(u.hDiv),u.hTable.cellPadding=0,u.hTable.cellSpacing=0,n(u.hDiv).append('<div class="hDivBox"><\/div>'),n("div",u.hDiv).append(u.hTable),c=n("thead:first",t).get(0),c&&n(u.hTable).append(c),c=null,r.colmodel||(g=0),n("thead tr:first th",u.hDiv).each(function(){var t=document.createElement("div");n(this).attr("abbr")&&(n(this).click(function(t){if(!n(this).hasClass("thOver"))return!1;var i=t.target||t.srcElement;if(i.href||i.type)return!0;u.changeSort(this)}),n(this).attr("abbr")==r.sortname&&(this.className="sorted",t.className="s"+r.sortorder)),this.hide&&n(this).hide(),r.colmodel||n(this).attr("axis","col"+g++),n(t).css({textAlign:this.align,width:this.width+"px"}),t.innerHTML=this.innerHTML,n(this).empty().append(t).removeAttr("width").mousedown(function(n){u.dragStart("colMove",n,this)}).hover(function(){var i,t,f;if(u.colresize||n(this).hasClass("thMove")||u.colCopy||n(this).addClass("thOver"),n(this).attr("abbr")==r.sortname||u.colCopy||u.colresize||!n(this).attr("abbr")?n(this).attr("abbr")!=r.sortname||u.colCopy||u.colresize||!n(this).attr("abbr")||(i="",i=r.sortorder=="asc"?"desc":"asc",n("div",this).removeClass("s"+r.sortorder).addClass("s"+i)):n("div",this).addClass("s"+r.sortorder),u.colCopy){if(t=n("th",u.hDiv).index(this),t==u.dcoln)return!1;t<u.dcoln?n(this).append(u.cdropleft):n(this).append(u.cdropright),u.dcolt=t}else if(!u.colresize){var o=n("th:visible",u.hDiv).index(this),e=parseInt(n("div:eq("+o+")",u.cDrag).css("left")),s=parseInt(n(u.nBtn).width())+parseInt(n(u.nBtn).css("borderLeftWidth"));nl=e-s+Math.floor(r.cgwidth/2),n(u.nDiv).hide(),n(u.nBtn).hide(),n(u.nBtn).css({left:nl,top:u.hDiv.offsetTop}).show(),f=parseInt(n(u.nDiv).width()),n(u.nDiv).css({top:u.bDiv.offsetTop}),nl+f>n(u.gDiv).width()?n(u.nDiv).css("left",e-f+1):n(u.nDiv).css("left",nl),n(this).hasClass("sorted")?n(u.nBtn).addClass("srtd"):n(u.nBtn).removeClass("srtd")}},function(){if(n(this).removeClass("thOver"),n(this).attr("abbr")!=r.sortname)n("div",this).removeClass("s"+r.sortorder);else if(n(this).attr("abbr")==r.sortname){var t="";t=r.sortorder=="asc"?"desc":"asc",n("div",this).addClass("s"+r.sortorder).removeClass("s"+t)}u.colCopy&&(n(u.cdropleft).remove(),n(u.cdropright).remove(),u.dcolt=null)})}),u.bDiv.className="bDiv",n(t).before(u.bDiv),n(u.bDiv).css({height:r.height=="auto"?"auto":r.height+"px"}).scroll(function(){u.scroll()}).append(t),r.height=="auto"&&n("table",u.bDiv).addClass("autoht"),u.addCellProp(),u.addRowProp(),f=n("thead tr:first th:first",u.hDiv).get(0),f!=null&&(u.cDrag.className="cDrag",u.cdpad=0,u.cdpad+=isNaN(parseInt(n("div",f).css("borderLeftWidth")))?0:parseInt(n("div",f).css("borderLeftWidth")),u.cdpad+=isNaN(parseInt(n("div",f).css("borderRightWidth")))?0:parseInt(n("div",f).css("borderRightWidth")),u.cdpad+=isNaN(parseInt(n("div",f).css("paddingLeft")))?0:parseInt(n("div",f).css("paddingLeft")),u.cdpad+=isNaN(parseInt(n("div",f).css("paddingRight")))?0:parseInt(n("div",f).css("paddingRight")),u.cdpad+=isNaN(parseInt(n(f).css("borderLeftWidth")))?0:parseInt(n(f).css("borderLeftWidth")),u.cdpad+=isNaN(parseInt(n(f).css("borderRightWidth")))?0:parseInt(n(f).css("borderRightWidth")),u.cdpad+=isNaN(parseInt(n(f).css("paddingLeft")))?0:parseInt(n(f).css("paddingLeft")),u.cdpad+=isNaN(parseInt(n(f).css("paddingRight")))?0:parseInt(n(f).css("paddingRight")),n(u.bDiv).before(u.cDrag),nt=n(u.bDiv).height(),w=n(u.hDiv).height(),n(u.cDrag).css({top:-w+"px"}),n("thead tr:first th",u.hDiv).each(function(){var t=document.createElement("div");n(u.cDrag).append(t),r.cgwidth||(r.cgwidth=n(t).width()),n(t).css({height:nt+w}).mousedown(function(n){u.dragStart("colresize",n,this)}),n.browser.msie&&n.browser.version<7&&(u.fixHeight(n(u.gDiv).height()),n(t).hover(function(){u.fixHeight(),n(this).addClass("dragging")},function(){u.colresize||n(this).removeClass("dragging")}))})),r.striped&&n("tbody tr:odd",u.bDiv).addClass("erow"),r.resizable&&r.height!="auto"&&(u.vDiv.className="vGrip",n(u.vDiv).mousedown(function(n){u.dragStart("vresize",n)}).html("<span><\/span>"),n(u.bDiv).after(u.vDiv)),r.resizable&&r.width!="auto"&&!r.nohresize&&(u.rDiv.className="hGrip",n(u.rDiv).mousedown(function(n){u.dragStart("vresize",n,!0)}).html("<span><\/span>").css("height",n(u.gDiv).height()),n.browser.msie&&n.browser.version<7&&n(u.rDiv).hover(function(){n(this).addClass("hgOver")},function(){n(this).removeClass("hgOver")}),n(u.gDiv).append(u.rDiv)),r.usepager){if(u.pDiv.className="pDiv",u.pDiv.innerHTML='<div class="pDiv2"><\/div>',n(u.bDiv).after(u.pDiv),tt=' <div class="pGroup"> <div class="pFirst pButton"><span><\/span><\/div><div class="pPrev pButton"><span><\/span><\/div> <\/div> <div class="btnseparator"><\/div> <div class="pGroup"><span class="pcontrol">Page <input type="text" size="4" value="1" /> of <span> 1 <\/span><\/span><\/div> <div class="btnseparator"><\/div> <div class="pGroup"> <div class="pNext pButton"><span><\/span><\/div><div class="pLast pButton"><span><\/span><\/div> <\/div> <div class="btnseparator"><\/div> <div class="pGroup"> <div class="pReload pButton"><span><\/span><\/div> <\/div> <div class="btnseparator"><\/div> <div class="pGroup"><span class="pPageStat"><\/span><\/div>',n("div",u.pDiv).html(tt),n(".pReload",u.pDiv).click(function(){u.populate()}),n(".pFirst",u.pDiv).click(function(){u.changePage("first")}),n(".pPrev",u.pDiv).click(function(){u.changePage("prev")}),n(".pNext",u.pDiv).click(function(){u.changePage("next")}),n(".pLast",u.pDiv).click(function(){u.changePage("last")}),n(".pcontrol input",u.pDiv).keydown(function(n){n.keyCode==13&&u.changePage("input")}),n.browser.msie&&n.browser.version<7&&n(".pButton",u.pDiv).hover(function(){n(this).addClass("pBtnOver")},function(){n(this).removeClass("pBtnOver")}),r.useRp){for(b="",a=0;a<r.rpOptions.length;a++)sel=r.rp==r.rpOptions[a]?'selected="selected"':"",b+="<option value='"+r.rpOptions[a]+"' "+sel+" >"+r.rpOptions[a]+"&nbsp;&nbsp;<\/option>";n(".pDiv2",u.pDiv).prepend("<div class='pGroup'><select name='rp'>"+b+"<\/select><\/div> <div class='btnseparator'><\/div>"),n("select",u.pDiv).change(function(){if(r.onRpChange)r.onRpChange(+this.value);else r.newp=1,r.rp=+this.value,u.populate()})}if(r.searchitems){for(n(".pDiv2",u.pDiv).prepend("<div class='pGroup'> <div class='pSearch pButton'><span><\/span><\/div> <\/div>  <div class='btnseparator'><\/div>"),n(".pSearch",u.pDiv).click(function(){n(u.sDiv).slideToggle("fast",function(){n(".sDiv:visible input:first",u.gDiv).trigger("focus")})}),u.sDiv.className="sDiv",sitems=r.searchitems,k="",l=0;l<sitems.length;l++)r.qtype==""&&sitems[l].isdefault==!0?(r.qtype=sitems[l].name,sel='selected="selected"'):sel="",k+="<option value='"+sitems[l].name+"' "+sel+" >"+sitems[l].display+"&nbsp;&nbsp;<\/option>";r.qtype==""&&(r.qtype=sitems[0].name),n(u.sDiv).append("<div class='sDiv2'>Quick Search <input type='text' size='30' name='q' class='qsbox' /> <select name='qtype'>"+k+"<\/select> <input type='button' value='Clear' /><\/div>"),n("input[name=q],select[name=qtype]",u.sDiv).keydown(function(n){n.keyCode==13&&u.doSearch()}),n("input[value=Clear]",u.sDiv).click(function(){n("input[name=q]",u.sDiv).val(""),r.query="",u.doSearch()}),n(u.bDiv).after(u.sDiv)}}return n(u.pDiv,u.sDiv).append("<div style='clear:both'><\/div>"),r.title&&(u.mDiv.className="mDiv",u.mDiv.innerHTML='<div class="ftitle">'+r.title+"<\/div>",n(u.gDiv).prepend(u.mDiv),r.showTableToggleBtn&&(n(u.mDiv).append('<div class="ptogtitle" title="Minimize/Maximize Table"><span><\/span><\/div>'),n("div.ptogtitle",u.mDiv).click(function(){n(u.gDiv).toggleClass("hideBody"),n(this).toggleClass("vsble")}))),u.cdropleft=document.createElement("span"),u.cdropleft.className="cdropleft",u.cdropright=document.createElement("span"),u.cdropright.className="cdropright",u.block.className="gBlock",y=n(u.bDiv).height(),d=u.bDiv.offsetTop,n(u.block).css({width:u.bDiv.style.width,height:y,background:"white",position:"relative",marginBottom:y*-1,zIndex:1,top:d,left:"0px"}),n(u.block).fadeTo(0,r.blockOpacity),n("th",u.hDiv).length&&(u.nDiv.className="nDiv",u.nDiv.innerHTML="<table cellpadding='0' cellspacing='0'><tbody><\/tbody><\/table>",n(u.nDiv).css({marginBottom:y*-1,display:"none",top:d}).noSelect(),p=0,n("th div",u.hDiv).each(function(){var i=n("th[axis='col"+p+"']",u.hDiv)[0],t='checked="checked"';i.style.display=="none"&&(t=""),n("tbody",u.nDiv).append('<tr><td class="ndcol1"><input type="checkbox" '+t+' class="togCol" value="'+p+'" /><\/td><td class="ndcol2">'+this.innerHTML+"<\/td><\/tr>"),p++}),n.browser.msie&&n.browser.version<7&&n("tr",u.nDiv).hover(function(){n(this).addClass("ndcolover")},function(){n(this).removeClass("ndcolover")}),n("td.ndcol2",u.nDiv).click(function(){return n("input:checked",u.nDiv).length<=r.minColToggle&&n(this).prev().find("input")[0].checked?!1:u.toggleCol(n(this).prev().find("input").val())}),n("input.togCol",u.nDiv).click(function(){if(n("input:checked",u.nDiv).length<r.minColToggle&&this.checked==!1)return!1;n(this).parent().next().trigger("click")}),n(u.gDiv).prepend(u.nDiv),n(u.nBtn).addClass("nBtn").html("<div><\/div>").attr("title","Hide/Show Columns").click(function(){return n(u.nDiv).toggle(),!0}),r.showToggleBtn&&n(u.gDiv).prepend(u.nBtn)),n(u.iDiv).addClass("iDiv").css({display:"none"}),n(u.bDiv).append(u.iDiv),n(u.bDiv).hover(function(){n(u.nDiv).hide(),n(u.nBtn).hide()},function(){u.multisel&&(u.multisel=!1)}),n(u.gDiv).hover(function(){},function(){n(u.nDiv).hide(),n(u.nBtn).hide()}),n(document).mousemove(function(n){u.dragMove(n)}).mouseup(function(){u.dragEnd()}).hover(function(){},function(){u.dragEnd()}),n.browser.msie&&n.browser.version<7&&(n(".hDiv,.bDiv,.mDiv,.pDiv,.vGrip,.tDiv, .sDiv",u.gDiv).css({width:"100%"}),n(u.gDiv).addClass("ie6"),r.width!="auto"&&n(u.gDiv).addClass("ie6fullwidthbug")),u.rePosDrag(),u.fixHeight(),t.p=r,t.grid=u,r.url&&r.autoload&&u.populate(),t};var t=!1;n(document).ready(function(){t=!0}),n.fn.flexigrid=function(i){return this.each(function(){if(t)n.addFlex(this,i);else{n(this).hide();var r=this;n(document).ready(function(){n.addFlex(r,i)})}})},n.fn.flexReload=function(){return this.each(function(){this.grid&&this.p.url&&this.grid.populate()})},n.fn.flexOptions=function(t){return this.each(function(){this.grid&&n.extend(this.p,t)})},n.fn.flexToggleCol=function(n,t){return this.each(function(){this.grid&&this.grid.toggleCol(n,t)})},n.fn.flexAddData=function(n){return this.each(function(){this.grid&&this.grid.addData(n)})},n.fn.noSelect=function(t){return prevent=t==null?!0:t,prevent?this.each(function(){n.browser.msie||n.browser.safari?n(this).bind("selectstart",function(){return!1}):n.browser.mozilla?(n(this).css("MozUserSelect","none"),n("body").trigger("focus")):n.browser.opera?n(this).bind("mousedown",function(){return!1}):n(this).attr("unselectable","on")}):this.each(function(){n.browser.msie||n.browser.safari?n(this).unbind("selectstart"):n.browser.mozilla?n(this).css("MozUserSelect","inherit"):n.browser.opera?n(this).unbind("mousedown"):n(this).removeAttr("unselectable","on")})}})(jQuery);
//@ sourceMappingURL=flexigrid.min.js.map