function executarRest(n,t,i,r){var e="",f,u;if(document.location.pathname.split("/").length>1)for(f=document.location.pathname.split("/"),u=0;f.length-1>u;u++)f[u]!=""&&(e+="/"+f[u]);$.ajax({type:"POST",url:document.location.protocol+"//"+document.location.host+e+n,data:t,dataType:"jsonp",success:function(n){n&&n.SessaoExpirada&&(location.href="Logout.aspx");i(n)},error:function(n){n.status==200?location.href="Logon.aspx?ReturnUrl="+document.location.pathname:r(n)}})}function executarDownload(n,t,i,r,u){$.fileDownload&&(u==null&&(u=!0),$.fileDownload(ObterPath()+n,{httpMethod:"GET",data:t,prepareCallback:function(){iniciarRequisicao()},successCallback:function(n){finalizarRequisicao();i&&i(n)},failCallback:function(n,t){if(finalizarRequisicao(),r)r(n,t);else try{var i=JSON.parse(n.replace("(","").replace(");",""));ExibirMensagemErro(i.Erro,"Atenção!")}catch(u){ExibirMensagemErro("Não foi possível realizar o download do arquivo. Atualize a página e tente novamente.","Atenção!")}}}))}function ObterPath(){var i="",t,n;if(document.location.pathname.split("/").length>1)for(t=document.location.pathname.split("/"),n=0;t.length-1>n;n++)t[n]!=""&&(i+="/"+t[n]);return i}function iniciarRequisicao(){$.blockUI({message:"Processando, aguarde...",baseZ:99999,css:{border:"none",padding:"5px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px",opacity:.8,color:"#fff",cursor:"default"},overlayCSS:{cursor:"default",opacity:.4}})}function finalizarRequisicao(){$.unblockUI()}$(document).ajaxStart(function(){iniciarRequisicao()}).ajaxStop(function(){finalizarRequisicao()});