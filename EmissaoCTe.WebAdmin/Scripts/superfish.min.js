(function(n){n.fn.superfish=function(t){var i=n.fn.superfish,r=i.c,o=n(['<span class="',r.arrowClass,'"> &#187;<\/span>'].join("")),u=function(){var t=n(this),i=e(t);clearTimeout(i.sfTimer);t.showSuperfishUl().siblings().hideSuperfishUl()},f=function(){var r=n(this),f=e(r),t=i.op;clearTimeout(f.sfTimer);f.sfTimer=setTimeout(function(){t.retainPath=n.inArray(r[0],t.$path)>-1;r.hideSuperfishUl();t.$path.length&&r.parents(["li.",t.hoverClass].join("")).length<1&&u.call(t.$path)},t.delay)},e=function(n){var t=n.parents(["ul.",r.menuClass,":first"].join(""))[0];return i.op=i.o[t.serial],t},s=function(n){n.addClass(r.anchorClass).append(o.clone())};return this.each(function(){var h=this.serial=i.o.length,e=n.extend({},i.defaults,t),o;e.$path=n("li."+e.pathClass,this).slice(0,e.pathLevels).each(function(){n(this).addClass([e.hoverClass,r.bcClass].join(" ")).filter("li:has(ul)").removeClass(e.pathClass)});i.o[h]=i.op=e;n("li:has(ul)",this)[n.fn.hoverIntent&&!e.disableHI?"hoverIntent":"hover"](u,f).each(function(){e.autoArrows&&s(n(">a:first-child",this))}).not("."+r.bcClass).hideSuperfishUl();o=n("a",this);o.each(function(n){var t=o.eq(n).parents("li");o.eq(n).focus(function(){u.call(t)}).blur(function(){f.call(t)})});e.onInit.call(this)}).each(function(){var t=[r.menuClass];!i.op.dropShadows||n.browser.msie&&n.browser.version<7||t.push(r.shadowClass);n(this).addClass(t.join(" "))})};var t=n.fn.superfish;t.o=[];t.op={};t.IE7fix=function(){var i=t.op;n.browser.msie&&n.browser.version>6&&i.dropShadows&&i.animation.opacity!=undefined&&this.toggleClass(t.c.shadowClass+"-off")};t.c={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",arrowClass:"ui-icon-carat-1-s ui-icon",shadowClass:"sf-shadow"};t.defaults={hoverClass:"sfHover",pathClass:"overideThisToUse",pathLevels:1,delay:200,animation:{opacity:"show"},speed:"fast",autoArrows:!0,dropShadows:!0,disableHI:!1,onInit:function(){},onBeforeShow:function(){},onShow:function(){},onHide:function(){}};n.fn.extend({hideSuperfishUl:function(){var i=t.op,u=i.retainPath===!0?i.$path:"",r;return i.retainPath=!1,r=n(["li.",i.hoverClass].join(""),this).add(this).not(u).removeClass(i.hoverClass).find(">ul").hide().css("visibility","hidden"),i.onHide.call(r),this},showSuperfishUl:function(){var n=t.op,r=t.c.shadowClass+"-off",i=this.addClass(n.hoverClass).find(">ul:hidden").css("visibility","visible");return t.IE7fix.call(i),n.onBeforeShow.call(i),i.animate(n.animation,n.speed,function(){t.IE7fix.call(i);n.onShow.call(i)}),this}})})(jQuery);